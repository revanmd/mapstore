(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[2454],{214760:(e,t,i)=>{"use strict";var o=i(477434),n=i(438225),s=i(255892);const r=(e,t)=>{e.getSource&&"error"===e.getSource().getState()&&t.onError&&t.onError(e),e.getSource&&"loading"===e.getSource().getState()&&setTimeout(r.bind(null,e,t),1e3)};o.default.registerType("bing",{create:e=>{var t=e.apiKey,i=e.maxNativeZoom||19;const o=new n.Z({msId:e.id,preload:1/0,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,visible:e.visibility,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new s.Z({key:t,imagerySet:e.name,maxZoom:i})});return setTimeout(r.bind(null,o,e),1e3),o},update:(e,t,i)=>{i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},isValid:e=>!e.getSource||"error"!==e.getSource().getState()})},111695:(e,t,i)=>{"use strict";var o=i(477434),n=i(124852),s=i.n(n),r=i(218672);let a,l,u={},m="ontouchstart"in window,d=m?"touchstart":"mousedown",c=m?"touchmove":"mousemove",p=m?"touchend":"mouseup";function g(){var e,t;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t?void 0:t.maps}o.default.registerType("google",{create:(e,t,i)=>{if(document.getElementById(i+"gmaps")){let o=g();if(!o)return null;a||(a={HYBRID:o.MapTypeId.HYBRID,SATELLITE:o.MapTypeId.SATELLITE,ROADMAP:o.MapTypeId.ROADMAP,TERRAIN:o.MapTypeId.TERRAIN}),u[i]||(u[i]=new o.Map(document.getElementById(i+"gmaps"),{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,minZoom:e.minZoom,maxZoom:e.maxZoom})),u[i].setMapTypeId(a[e.name]);let n=document.getElementById(i+"gmaps"),s=function(){if(u[i]&&"hidden"!==n.style.visibility){const e=(0,r.vs)(t.getView().getCenter(),"EPSG:3857","EPSG:4326");u[i].setCenter(new o.LatLng(e[1],e[0]))}},l=function(){u[i]&&"hidden"!==n.style.visibility&&u[i].setZoom(t.getView().getZoom())},m=function(e,t){const i=t*Math.PI/180,o=e[0],n=e[1];return[o*Math.cos(i)-n*Math.sin(i),o*Math.sin(i)+n*Math.cos(i)]},y=function(e,t){let i=t[0],o=t[1],n=[[i/2,o/2],[-i/2,o/2],[-i/2,-o/2],[i/2,-o/2]].map((function(t){return m(t,e)})),s=n.map((function(e){return e[0]})),r=n.map((function(e){return e[1]})),a=Math.max.apply(null,s),l=Math.min.apply(null,s),u=Math.max.apply(null,r),d=Math.min.apply(null,r),c=Math.abs(u)+Math.abs(d);return{width:Math.abs(a)+Math.abs(l),height:c}},f=function(){if("hidden"!==n.style.visibility){const e=180*t.getView().getRotation()/Math.PI;n.style.transform="rotate("+e+"deg)",o.event.trigger(u[i],"resize")}},h=function(){let e=t.getView();e.on("change:center",s),e.on("change:resolution",l),e.on("change:rotation",f)};t.on("change:view",h),h(),s(),l();let x=t.getViewport(),v=document.getElementById(i+"gmaps").style.transform,S=!1,b=!1,R=function(){let e=/[\+\-]?\d+\.?\d*/i,r=document.getElementById(i+"gmaps").style.transform;if(u[i]&&r!==v&&-1!==r.indexOf("rotate")){let a=parseFloat(r.match(e)[0]),l=y(-a,t.getSize());n.style.width=l.width+"px",n.style.height=l.height+"px",n.style.left=Math.round((t.getSize()[0]-l.width)/2)+"px",n.style.top=Math.round((t.getSize()[1]-l.height)/2)+"px",o.event.trigger(u[i],"resize"),s()}};x.addEventListener(d,(()=>{S=!0})),x.addEventListener(p,(()=>{b&&S&&R(),v=document.getElementById(i+"gmaps").style.transform,S=!1})),x.addEventListener(c,(()=>{b=S}))}return null},render(e,t,i){l||(l=e.name);let o={zIndex:0};if(!0===e.visibility){let t=document.getElementById(i+"gmaps");t&&(t.style.visibility="visible"),u[i]&&a&&(u[i].setMapTypeId(a[e.name]),u[i].setTilt(0))}else o.visibility="hidden";if(l===e.name){let t=document.getElementById(i+"gmaps");return t&&(t.style.visibility=e.visibility?"visible":"hidden"),s().createElement("div",{id:i+"gmaps",className:"fill",style:o})}return null},update(e,t,i,o,n){if(!u[n])return;let s=g();if(!i.visibility&&t.visibility){let e=o.getView();const t=(0,r.vs)(e.getCenter(),"EPSG:3857","EPSG:4326");u[n].setCenter(new s.LatLng(t[1],t[0])),u[n].setZoom(e.getZoom())}!i.minZoom&&t.minZoom&&u[n].setOptions({minZoom:t.minZoom}),!i.maxZoom&&t.maxZoom&&u[n].setOptions({maxZoom:t.maxZoom})},remove(e,t,i){l===e.name&&(l=void 0,delete u[i])}})},963570:(e,t,i)=>{"use strict";var o=i(477434),n=i(613002),s=i(421915),r=i(218672),a=i(397208),l=i(898185),u=i(120767),m=i(315565),d=i(831219),c=i(944538),p=i(640353),g=i(752043),y=i(248047),f=i(55097),h=i(303696);const x=new u.default({color:"rgba(0,0,0,0.2)"}),v=new d.default({stroke:new u.default({color:"rgba(0,0,0,1)"}),fill:new l.default({color:"rgba(255,255,255,1)"})}),S=new m.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new l.default({color:"rgba(0,0,0,1)"}),stroke:new u.default({color:"rgba(255,255,255,1)",width:3})}),b=new m.default({font:"12px Calibri,sans-serif",textAlign:"end",fill:new l.default({color:"rgba(0,0,0,1)"}),stroke:new u.default({color:"rgba(255,255,255,1)",width:3})});var R=i(923715);function w(e,t){let i=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.map_=null,this.postcomposeListenerKey_=null,this.gridProjection_=(0,r.U2)(void 0!==e.projection?e.projection:"EPSG:4326"),this.projection_=null,this.maxY_=1/0,this.maxX_=1/0,this.minY_=-1/0,this.minX_=-1/0,this.maxYP_=1/0,this.maxXP_=1/0,this.minYP_=-1/0,this.minXP_=-1/0,this.targetSize_=void 0!==e.targetSize?e.targetSize:100,this.maxLines_=void 0!==e.maxLines?e.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==e.strokeStyle?e.strokeStyle:x,this.fromTargetTransform_=void 0,this.toTargetTransform_=void 0,this.projectionCenterTarget_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,this.frameStyle_=null,this.frame_=null,this.frameRatio_=0,!0===e.showFrame&&(this.frameStyle_=void 0!==e.frameStyle?e.frameStyle:v,this.frameRatio_=void 0!==e.frameRatio?e.frameRatio:.1),!0===e.showLabels&&(this.xLabelFormatter_=(0,f.A4)(e.projection||"EPSG:4326",e.xLabelFormatter),this.yLabelFormatter_=(0,f.u3)(e.projection||"EPSG:4326",e.yLabelFormatter),this.xLabelPosition_=void 0===e.xLabelPosition?0:e.xLabelPosition,this.yLabelPosition_=void 0===e.yLabelPosition?1:e.yLabelPosition,this.xLabelStyle_=void 0!==e.xLabelStyle?e.xLabelStyle:S,this.yLabelStyle_=void 0!==e.yLabelStyle?e.yLabelStyle:b,this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==e.intervals?e.intervals:(0,y.bL)(e.projection||"EPSG:4326"),this.setMap(void 0!==e.map?e.map:null)}createGraticule_(e,t,i,o){const n=(0,y.ZS)(this.intervals_,this.projectionCenterTarget_,this.targetSize_,i,this.fromTargetTransform_),s=(0,y.uI)(n,this.projection_.getCode(),this.gridProjection_.getCode(),[e[0],e[1],e[2],e[3]],[this.minXP_,this.minYP_,this.maxXP_,this.maxYP_],t,o,this.maxLines_,!!this.xLabelFormatter_,this.xLabelFormatter_,this.yLabelFormatter_,this.xLabelPosition_,this.yLabelPosition_,this.frameRatio_,{center:t,resolution:i,interval:n});this.meridians_=s.xLines.map((e=>new c.Z(e,h.Z.XY))),this.parallels_=s.yLines.map((e=>new c.Z(e,h.Z.XY))),this.meridiansLabels_=s.xLabels.map((e=>({...e,geom:new g.Z(e.geom)}))),this.parallelsLabels_=s.yLabels.map((e=>({...e,geom:new g.Z(e.geom)}))),this.frame_=s.frame?new p.ZP([s.frame.exterior,s.frame.interior],h.Z.XY):null}getMap(){return this.map_}getMeridians(){return this.meridians_}getParallels(){return this.parallels_}handlePostCompose_(e){const t=e.vectorContext,i=e.frameState,o=i.extent,n=i.viewState,s=n.center,a=n.projection,l=n.resolution,u=i.pixelRatio,m=l*l/(4*u*u);let d,c,p,g;for((!this.projection_||!(0,r.OP)(this.projection_,a))&&this.updateProjectionInfo_(a),this.createGraticule_(o,s,l,m),t.setFillStrokeStyle(null,this.strokeStyle_),d=0,c=this.meridians_.length;d<c;++d)p=this.meridians_[d],t.drawGeometry(p);for(d=0,c=this.parallels_.length;d<c;++d)p=this.parallels_[d],t.drawGeometry(p);if(this.frame_&&(t.setFillStrokeStyle(this.frameStyle_.getFill(),this.frameStyle_.getStroke()),t.drawGeometry(this.frame_)),this.meridiansLabels_)for(d=0,c=this.meridiansLabels_.length;d<c;++d)g=this.meridiansLabels_[d],this.xLabelStyle_.setText(g.text),t.setTextStyle(this.xLabelStyle_),t.drawGeometry(g.geom);if(this.parallelsLabels_)for(d=0,c=this.parallelsLabels_.length;d<c;++d)g=this.parallelsLabels_[d],this.yLabelStyle_.setText(g.text),t.setTextStyle(this.yLabelStyle_),t.drawGeometry(g.geom)}updateProjectionInfo_(e){const t=this.gridProjection_||(0,r.U2)("EPSG:4326"),i=e.getWorldExtent(),o=e.getExtent();this.maxY_=i[3],this.maxX_=i[2],this.minY_=i[1],this.minX_=i[0],this.maxYP_=o[3],this.maxXP_=o[2],this.minYP_=o[1],this.minXP_=o[0],this.fromTargetTransform_=(0,r.Ck)(t,e),this.toTargetTransform_=(0,r.Ck)(e,t),this.projectionCenterTarget_=this.toTargetTransform_((0,s.qg)(e.getExtent())),this.projection_=e}setMap(e){this.map_&&((0,n.bN)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),e&&(this.postcomposeListenerKey_=(0,n.oL)(e,a.Z.POSTCOMPOSE,this.handlePostCompose_,this),e.render()),this.map_=e}}({strokeStyle:e.style?(0,R.C2)(e).getStroke():new u.default({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]}),xLabelStyle:e.labelXStyle?(0,R.C2)({style:{...e.labelXStyle,verticalAlign:e.labelXStyle.verticalAlign||"bottom",offsetY:0},properties:{isText:!0}})[0].getText():new m.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new l.default({color:"rgba(0,0,0,1)"}),stroke:new u.default({color:"rgba(255,255,255,1)",width:3})}),yLabelStyle:e.labelYStyle?(0,R.C2)({style:{...e.labelYStyle,textAlign:e.labelYStyle.textAlign||"end",offsetY:0},properties:{isText:!0}})[0].getText():new m.default({font:"12px Calibri,sans-serif",textAlign:"end",fill:new l.default({color:"rgba(0,0,0,1)"}),stroke:new u.default({color:"rgba(255,255,255,1)",width:3})}),showLabels:e.labels||!1,showFrame:e.frame||!1,frameRatio:e.frameRatio,frameStyle:e.frameStyle?(0,R.C2)({style:e.frameStyle}):new d.default({stroke:new u.default({color:"rgba(0,0,0,1)"}),fill:new l.default({color:"rgba(255,255,255,1)"})}),projection:e.srs,xLabelFormatter:e.xLabelFormatter,yLabelFormatter:e.yLabelFormatter});return i.setMap(t),{detached:!0,remove:()=>{i.setMap(null)}}}o.default.registerType("graticule",{create:w,update:(e,t,i,o)=>t.srs!==i.srs?(e.remove(),w(t,o)):null})},635691:(e,t,i)=>{"use strict";i(477434).default.registerType("mapquest",{create:e=>(e.onError(),!1),isValid:()=>!1})},103243:(e,t,i)=>{"use strict";var o=i(477434),n=i(751635),s=i(438225);o.default.registerType("osm",{create:e=>new s.Z({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,zIndex:e.zIndex,source:new n.Z,minResolution:e.minResolution,maxResolution:e.maxResolution}),update:(e,t,i)=>{i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},866477:(e,t,i)=>{"use strict";var o=i(477434),n=i(798143),s=i.n(n),r=i(193409);const a=e=>{if(0!==e.length)for(let t=0;t<e.length;t++){let i=e.item(t);i.removeAttribute("data-reactid"),a(i.children||[])}};o.default.registerType("overlay",{create:(e,t)=>{const i=((e,t)=>{let i=e.cloneNode(!0);i.id=t.id+"-overlay",i.className=(t.className||e.className)+"-overlay",i.removeAttribute("data-reactid"),a(i.children||[]);const o=t.closeClass||"close";if(t.onClose&&1===i.getElementsByClassName(o).length){const e=i.getElementsByClassName(o)[0],n=e=>{t.onClose(e.target.getAttribute("data-overlayid"))};s().add(e,"click",n)}if(t.onLink){let e=i.getElementsByTagName("a");for(let i=0;i<e.length;i++)s().add(e[i],"click",t.onLink)}return i})(document.getElementById(e.id),e);document.body.appendChild(i);const o=new r.Z({id:e.id,element:i,autoPan:e.autoPan||!1,positioning:e.positioning||"top-left",offset:e.offset||[0,0],autoPanAnimation:{duration:e.autoPanAnimation||250},position:[e.position.x,e.position.y]});return t.addOverlay(o),{detached:!0,remove:()=>{t.removeOverlay(o)}}}})},521162:(e,t,i)=>{"use strict";var o=i(227361),n=i.n(o),s=i(477434),r=i(836365),a=i(408930),l=i(438225);s.default.registerType("tms",{create:e=>new l.Z(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{minx:t,miny:i,maxx:o,maxy:s}=n()(e,"bbox.bounds",{}),l={projection:e.srs,url:`${e.tileMapUrl}/{z}/{x}/{-y}.${e.extension}`,attributions:e.attribution?[e.attribution]:[]};let u=new r.Z(l);const m=u.getTileGrid();if(e.forceDefaultTileGrid){const n=m.getExtent(),r=[n[0],n[1]],l=new a.Z({origin:r,extent:e.bbox&&[t,i,o,s],resolutions:m.getResolutions(),tileSize:e.tileSize});u.setTileGridForProjection(e.srs,l),"EPSG:3857"===e.srs&&u.setTileGridForProjection("EPSG:900913",l)}else e.tileSets&&u.setTileGridForProjection(e.srs,new a.Z({origin:e.origin,extent:e.bbox&&[t,i,o,s],resolutions:e.tileSets.map((e=>{let{resolution:t}=e;return t})),tileSize:e.tileSize}));return{msId:e.id,extent:e.bbox&&[t,i,o,s],opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:u,minResolution:e.minResolution,maxResolution:e.maxResolution}}(e)),update:(e,t,i)=>{i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},517256:(e,t,i)=>{"use strict";var o=i(727418),n=i.n(o),s=i(477434),r=i(470326),a=i(351546),l=i(780477),u=i(836365),m=i(438225);function d(e,t){var[[i,o],[n,s]]=e;return a.default.reprojectBbox([o,i,s,n],"EPSG:4326",a.default.normalizeSRS(t))}s.default.registerType("tileprovider",{create:e=>{let[t,i]=r.Z.getLayerConfig(e.provider,e);return i.url=t,new m.Z(function(e){let t=e.url.match(/(\{s\})/)?(0,l.Um)(e):[(0,l.XK)(e.url,e)],i=n()({},{urls:t,attributions:e.attribution?[e.attribution]:[],maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0}),o=new u.Z(i);return n()({},{msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:o,minResolution:e.minResolution,maxResolution:e.maxResolution},e.bounds?{extent:d(e.bounds,e.srs?e.srs:"EPSG:3857")}:{})}(i))},update:(e,t,i)=>{i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)}})},907536:(e,t,i)=>{"use strict";var o=i(477434),n=i(923715),s=i(618446),r=i.n(s),a=i(973410),l=i(429902),u=i(119950);o.default.registerType("vector",{create:e=>{const t=new a.Z({features:[]}),i=new l.Z({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,opacity:e.opacity,minResolution:e.minResolution,maxResolution:e.maxResolution});return(0,n.C2)((0,u.applyDefaultStyleToLayer)({...e,asPromise:!0})).then((e=>{e&&i.setStyle(e)})),i},update:(e,t,i)=>{const o=i.crs||i.srs||"EPSG:3857",s=t.crs||t.srs||"EPSG:3857";s!==o&&e.getSource().forEachFeature((e=>{e.getGeometry().transform(o,s)})),r()(i.style,t.style)&&i.styleName===t.styleName||(0,n.C2)((0,u.applyDefaultStyleToLayer)({...t,asPromise:!0})).then((t=>{t&&e.setStyle(t)})),i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},render:()=>null})},660399:(e,t,i)=>{"use strict";var o=i(91175),n=i.n(o),s=i(472500),r=i.n(s),a=i(351546),l=i(835516),u=i(477434),m=i(555363),d=i(218672),c=i(421915),p=i(408930),g=i(251895),y=i(485926),f=i(404780),h=i(40649),x=i(191976);const v=e=>{const t=a.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),i=(0,d.U2)(t),o=i.getMetersPerUnit(),s=n()(e.tilingSchemes&&e.tilingSchemes.schemes&&e.tilingSchemes.schemes.filter((e=>{let{supportedCRS:i}=e;return i===t}))),{identifier:u,tileMatrix:v,boundingBox:S}=s||{},b=v&&v.map((e=>{let{scaleDenominator:t}=e;return t})),R=l.default.getResolutions(),w=e.resolutions||b&&b.map((e=>28e-5*e/o))||R,_="ne"===i.getAxisOrientation().substr(0,2),L=v&&v.map((function(){let{topLeftCorner:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})).map((function(){let[e,t]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _?[t,e]:[e,t]})),T=v&&v.map((e=>{let{tileWidth:t,tileHeight:i}=e;return[t,i]})),E=e.bbox,P=E?(0,c.Ne)([parseFloat(E.bounds.minx),parseFloat(E.bounds.miny),parseFloat(E.bounds.maxx),parseFloat(E.bounds.maxy)],(0,d.Ck)(E.crs,e.srs)):null,Z=S&&S.lowerCorner&&S.upperCorner?[...S.lowerCorner,...S.upperCorner]:null,I=new p.Z({extent:Z,minZoom:0,origins:L,origin:L?void 0:[20037508.3428,-20037508.3428],resolutions:w,tileSizes:T,tileSize:T?void 0:[256,256]});let M=(e.url||"").replace(/\{tilingSchemeId\}/,u).replace(/\{level\}/,"{z}").replace(/\{row\}/,"{y}").replace(/\{col\}/,"{x}"),z={};(0,m.addAuthenticationParameter)(M,z,e.securityToken);const C=decodeURI(M),F=r().format({query:{...z}}),j=(0,h.z)(e.format)&&x.y[e.format]||f.Z,G=new y.Z({format:new j({dataProjection:t,layerName:"_layer_"}),tileGrid:I,url:C+F}),k=new g.Z({extent:P,msId:e.id,source:G,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution});return(0,x.b)(e.vectorStyle,k),k};u.default.registerType("wfs3",{create:v,update:(e,t,i)=>i.securityToken!==t.securityToken||i.srs!==t.srs?v(t):(i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),null),render:()=>null})},202332:(e,t,i)=>{"use strict";var o=i(477434),n=i(923715),s=i(973410),r=i(429902),a=i(169141),l=i(487758),u=i(676794),m=i(988594),d=i(119950);const c=(e,t)=>(i,o,n)=>{const s=(0,u.v)(t);var r=n.getCode();const a=()=>{e.removeLoadedExtent(i),e.dispatchEvent("vectorerror")};(0,l.Bm)(t.url,t.name,{outputFormat:"application/json",srsname:r,...s}).then((t=>{200===t.status?e.addFeatures(e.getFormat().readFeatures(t.data)):a()})).catch((e=>{a()}))},p=(e,t,i)=>(0,n.C2)((0,d.applyDefaultStyleToLayer)({...t,style:{...t.style||{},type:i},asPromise:!0})).then((t=>{t&&e.setStyle(t)})),g=(e,t)=>e.geometryType?p(e,t,e.geometryType):(0,l.v$)(t.url,t.name).then(m.mI).then((i=>p(e,t,i)));o.default.registerType("wfs",{create:e=>{const t=new s.Z({format:new a.Z});t.setLoader(c(t,e));const i=new r.Z({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,opacity:e.opacity,minResolution:e.minResolution,maxResolution:e.maxResolution});return g(i,e),i},update:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=i.crs||i.srs||"EPSG:3857",n=t.crs||t.srs||"EPSG:3857",s=e.getSource();n!==o&&s.forEachFeature((e=>{e.getGeometry().transform(o,n)})),(0,m.Es)(i,t)&&(s.setLoader(c(s,t)),s.clear(),s.refresh()),t.style===i.style&&t.styleName===i.styleName||g(e,t),i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution)},render:()=>null})},501041:(e,t,i)=>{"use strict";var o=i(124852),n=i.n(o),s=i(804504),r=i(477434),a=i(414293),l=i.n(a),u=i(618446),m=i.n(u),d=i(393386),c=i.n(d),p=i(701469),g=i.n(p),y=i(727418),f=i.n(y),h=i(470509),x=i.n(h),v=i(351546),S=i(331655),b=i(234228),R=i(676794),w=i(555363),_=i(399790),L=i(835516),T=i(642165),E=i(502305),P=i(392663),Z=i(218672),I=i(408930),M=i(438225),z=i(991587),C=i(485926),F=i(251895),j=i(40649),G=i(191976),k=i(754395);const A=(e,t)=>{let i=t;return e&&(0,S.$)(t)&&(i=(0,S.b)()+encodeURIComponent(t)),i},O=(e,t)=>function(i,o){var n;let s=i.getImage(),r=A(e.forceProxy,o);if("function"==typeof window.btoa&&o.length>=(e.maxLengthUrl||(null===(n=(0,b.u8)("miscSettings"))||void 0===n?void 0:n.maxURLLength)||1/0)){let[i,...n]=o.split("&");i=A(e.forceProxy,i),x().post(i,"&"+n.join("&"),{headers:{"Content-type":"application/x-www-form-urlencoded;charset=utf-8",...t},responseType:"arraybuffer"}).then((e=>{if(200===e.status){const t=new Uint8Array(e.data);let i=t.length;const o=new Array(i);for(;i--;)o[i]=String.fromCharCode(t[i]);const n=o.join(""),r=e.headers["content-type"];0===r.indexOf("image")&&(s.src="data:"+r+";base64,"+window.btoa(n))}})).catch((e=>{console.error(e)}))}else t?x().get(r,{headers:t,responseType:"blob"}).then((e=>{200===e.status&&e.data?i.getImage().src=URL.createObjectURL(e.data):console.error("Status code: "+e.status)})).catch((e=>{console.error(e)})):s.src=r};function N(e){const t=(0,R.v)(e),i=f()({},e.baseParams,{LAYERS:e.name,STYLES:e.style||"",FORMAT:e.format||"image/png",TRANSPARENT:void 0===e.transparent||e.transparent,SRS:v.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:v.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),TILED:!e.singleTile&&(!!l()(e.tiled)||e.tiled),VERSION:e.version||"1.3.0"},f()({},e._v_?{_v_:e._v_}:{},t||{},e.localizedLayerStyles&&e.env&&e.env.length&&"background"!==e.group?{ENV:(0,k.h)(e.env)}:{}));return(0,w.addAuthenticationToSLD)(i,e)}function U(e){return e.join(":")}function Y(e,t,i){let o=A(e,i);const n=t.getTileCoord();t.getImage().src="",(0,T.qR)(o,n,U(n))}function V(e){try{const t=function(e,t){const i=e.get("map");return e.getSource().getTileGrid().getTileCoordForCoordAndZ(t,i.getView().getZoom())}(this,e),i=this.getSource().getTileGrid().getTileSize(),o=(0,T.yQ)(U(t),function(e,t,i){const o=e.getSource().getTileGrid(),n=o.getTileCoordExtent(i),s=o.getTileSize()/(n[2]-n[0]);return{x:Math.floor((t[0]-n[0])*s),y:Math.floor((n[3]-t[1])*s)}}(this,e,t),i,this.get("nodata"),this.get("littleEndian"));return o.available?o.value:n().createElement(s.Z,{msgId:o.message})}catch(e){return n().createElement(s.Z,{msgId:"elevationLoadingError"})}}const B=e=>e&&(0,_.go)(e)||void 0,D=(e,t)=>{const i=function(e){return e.map((e=>e.split("?")[0]))}(g()(e.url)?e.url:[e.url]),o=N(e)||{};i.forEach((t=>(0,w.addAuthenticationParameter)(t,o,e.securityToken)));const n=(0,w.getAuthenticationHeaders)(i[0],e.securityToken),s=(0,j.z)(e.format);if(e.singleTile&&!s)return new E.Z({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution,source:new P.default({url:i[0],crossOrigin:e.crossOrigin,attributions:B(e.credits),params:o,ratio:e.ratio||1,imageLoadFunction:O(e,n)})});const r=t&&t.getView()&&t.getView().getProjection()&&t.getView().getProjection().getCode()||"EPSG:3857",a=v.default.normalizeSRS(e.srs||r,e.allowedSRS),l=(0,Z.U2)(a).getExtent()||v.default.getExtentForProjection(a).extent,u=function(e,t){return t.useForElevation?f()({},e,{tileLoadFunction:Y.bind(null,[t.forceProxy])}):e}({attributions:B(e.credits),urls:i,crossOrigin:e.crossOrigin,params:o,tileGrid:new I.Z({extent:l,resolutions:e.resolutions||L.default.getResolutions(),tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[l[0],l[1]]}),tileLoadFunction:O(e,n)},e),m=new z.default({...u}),d={msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution};let c;return c=s?new F.Z({...d,source:new C.Z({...u,format:new G.y[e.format]({layerName:"_layer_"}),tileUrlFunction:(e,t,i)=>m.tileUrlFunction(e,t,i)})}):new M.Z({...d,source:m}),c.set("map",t),s&&(c.set("wmsSource",m),e.vectorStyle&&(0,G.b)(e.vectorStyle,c)),e.useForElevation&&(c.set("nodata",e.nodata),c.set("littleEndian",e.littleendian??!1),c.set("getElevation",V.bind(c))),c};r.default.registerType("wms",{create:D,update:(e,t,i,o)=>{const n=(0,j.z)(t.format);if(((e,t)=>e.singleTile!==t.singleTile||e.securityToken!==t.securityToken||e.ratio!==t.ratio||e.credits!==t.credits&&!t.credits||(0,j.z)(e.format)!==(0,j.z)(t.format)||(0,j.z)(e.format)&&(0,j.z)(t.format)&&e.format!==t.format||e.localizedLayerStyles!==t.localizedLayerStyles||e.tileSize!==t.tileSize||e.forceProxy!==t.forceProxy)(i,t))return D(t,o);let s=!1;n&&t.vectorStyle&&!m()(t.vectorStyle,i.vectorStyle||{})&&((0,G.b)(t.vectorStyle,e),s=!0);const r=e.get("wmsSource")||e.getSource(),a=n?e.getSource():null;if(i.srs!==t.srs){const i=v.default.normalizeSRS(t.srs,t.allowedSRS),o=(0,Z.U2)(i).getExtent()||v.default.getExtentForProjection(i).extent;if(t.singleTile&&!n)e.setExtent(o);else{const e=new I.Z({extent:o,resolutions:t.resolutions||L.default.getResolutions(),tileSize:t.tileSize?t.tileSize:256,origin:t.origin?t.origin:[o[0],o[1]]});r.tileGrid=e,a&&(a.tileGrid=e)}s=!0}i.credits!==t.credits&&t.credits&&(r.setAttributions(B(t.credits)),s=!0);let u,d,p=!1;var g,y;if(i&&r&&r.updateParams&&(i.params&&t.params?p=c()(Object.keys(i.params),Object.keys(t.params)).reduce(((e,o)=>t.params[o]!==i.params[o]||e),!1):(!i.params&&t.params||i.params&&!t.params)&&(p=!0),u=N(i),d=N(t),p=p||["LAYERS","STYLES","FORMAT","TRANSPARENT","TILED","VERSION","_v_","CQL_FILTER","SLD","VIEWPARAMS"].reduce(((e,t)=>u[t]!==d[t]||e),!1),s=s||p),i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),s&&(null==r||null===(g=r.tileCache)||void 0===g||null===(y=g.pruneExceptNewestZ)||void 0===y||y.call(g),a&&(a.clear(),a.refresh()),p)){const e=f()(d,(0,w.addAuthenticationToSLD)((0,R.v)(t)||{},t));r.updateParams(f()(e,Object.keys(u||{}).reduce(((t,i)=>l()(e[i])?f()(t,{[i]:void 0}):t),{})))}return null}})},652056:(e,t,i)=>{"use strict";var o=i(477434),n=i(984596),s=i.n(n),r=i(91175),a=i.n(r),l=i(610928),u=i.n(l),m=i(555363),d=i(276570),c=i(351546),p=i(835516),g=i(40649),y=i(472500),f=i.n(y),h=i(218672),x=i(421915),v=i(438225),S=i(251895),b=i(92200),R=i(485926),w=i(923241),_=i(404780),L=i(169141),T=i(496476),E=i(923715),P=i(399790);const Z={"application/vnd.mapbox-vector-tile":_.Z,"application/json;type=geojson":L.Z,"application/json;type=topojson":T.Z},I=e=>{let t="RESTful"===e.requestEncoding?"REST":e.requestEncoding;const i=function(e,t){return e.map((e=>"REST"===t?e:e.split("?")[0]))}(s()(e.url),t),o=c.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),n=(0,h.U2)(o),r=n.getMetersPerUnit(),{tileMatrixSetName:a,tileMatrixSet:l,matrixIds:y}=d.h7(e,o),_=l&&(null==l?void 0:l.TileMatrix.map((e=>Number(e.ScaleDenominator)))),L=p.default.getResolutions(),T=e.resolutions||_&&_.map((e=>28e-5*e/r))||L,I="ne"===n.getAxisOrientation().substr(0,2),M=l&&l.TileMatrix&&l.TileMatrix.map((function(){let{TopLeftCorner:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&c.default.parseString(e)})).map((function(){let{x:e,y:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I?[t,e]:[e,t]})),z=l&&l.TileMatrix&&l.TileMatrix.map((function(){let{MatrixWidth:e,MatrixHeight:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[parseInt(e,10),parseInt(t,10)]})),C=l&&l.TileMatrix&&l.TileMatrix.map((function(){let{TileWidth:e,TileHeight:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[parseInt(e,10),parseInt(t,10)]})),F=e.bbox,j=F?(0,x.Ne)([parseFloat(F.bounds.minx),parseFloat(F.bounds.miny),parseFloat(F.bounds.maxx),parseFloat(F.bounds.maxy)],(0,h.Ck)(F.crs,e.srs)):n.getExtent();let G=(0,x.Ed)(j,n.getExtent());(0,x.xb)(G)&&(G=n.getExtent());const k={};i.forEach((t=>(0,m.addAuthenticationParameter)(t,k,e.securityToken)));const A=f().format({query:{...k}}),O=256,N=e.maxResolution||u()(L.filter((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return T[0]/e*O<.5}))),U=-1!==(e.availableFormats||[]).indexOf(e.format)&&e.format||!e.availableFormats&&e.format||"image/png",Y=(0,g.z)(U),V={requestEncoding:t,urls:i.map((e=>e+A)),layer:e.name,version:e.version||"1.0.0",matrixSet:a,...e.credits&&{attributions:(0,P.go)(e.credits)},format:U,style:e.style||"",tileGrid:new w.Z({origins:M,origin:M?void 0:[20037508.3428,-20037508.3428],resolutions:T,matrixIds:d.Wg((y||d.nn(e)||[]).map((e=>e.identifier)),T.length),sizes:z,extent:G,tileSizes:C,tileSize:!C&&(e.tileSize||[O,O])}),wrapX:!0},B=new b.Z(V),D=new(Y?S.Z:v.Z)({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,minResolution:e.minResolution,maxResolution:e.maxResolution<N?e.maxResolution:N,visible:!1!==e.visibility,source:Y?new R.Z({...V,format:new Z[e.format]({dataProjection:o}),tileUrlFunction:function(){return B.tileUrlFunction(...arguments)}}):B});return Y&&D.setStyle((0,E.C2)(e)),D};o.default.registerType("wmts",{create:I,update:(e,t,i)=>i.securityToken!==t.securityToken||i.srs!==t.srs||i.format!==t.format||i.style!==t.style||i.credits!==t.credits?I(t):(i.minResolution!==t.minResolution&&e.setMinResolution(void 0===t.minResolution?0:t.minResolution),i.maxResolution!==t.maxResolution&&e.setMaxResolution(void 0===t.maxResolution?1/0:t.maxResolution),null),isCompatible:e=>!!a()(c.default.getEquivalentSRS(e.srs||"EPSG:3857").filter((t=>((e,t)=>{const{tileMatrixSetName:i,tileMatrixSet:o}=d.h7(t,e);return o?c.default.getEPSGCode(o["ows:SupportedCRS"])===e:i===e})(t,e))))})},532454:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});const o={BingLayer:i(214760).default,GoogleLayer:i(111695).default,GraticuleLayer:i(963570).default,MapQuest:i(635691).default,OSMLayer:i(103243).default,OverlayLayer:i(866477).default,TMSLayer:i(521162).default,TileProviderLayer:i(517256).default,VectorLayer:i(907536).default,WFSLayer:i(202332).default,WFS3Layer:i(660399).default,WMSLayer:i(501041).default,WMTSLayer:i(652056).default}},642165:(e,t,i)=>{"use strict";i.d(t,{qR:()=>m,yQ:()=>d});var o=i(470509),n=i.n(o),s=i(581399),r=i.n(s),a=i(882702);let l=new(r())(100);const u=function(e,t,i,o){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const r=o*e+i;try{const e=t.dataView.getInt16(2*r,s);if(e!==n&&32767!==e&&-32768!==e)return e}catch(e){}return null},m=(e,t,i)=>l.has(i)?null:new a.Promise(((o,s)=>{n().get(e,{responseType:"arraybuffer"}).then((e=>{((e,t,i)=>{l.set(i,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})})(e.data,t,i),o()})).catch((e=>{((e,t,i)=>{l.set(i,{coords:t,current:!0,status:"error: "+e})})(e.message,t,i),s(e)}))})),d=function(e,t,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=l.get(e);return s&&"success"===s.status?{available:!0,value:u(i,s,t.x,t.y,o,n)}:s&&"loading"===s.status?{available:!1,message:"elevationLoading"}:s&&"error"===s.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}}},331655:(e,t,i)=>{"use strict";i.d(t,{$:()=>l,b:()=>u});var o=i(234228),n=i(701469),s=i.n(n),r=i(513218),a=i.n(r);const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s()(e))return e.reduce(((e,t)=>l(t)&&e),!0);let i=!1,n=!(0===e.indexOf("http")),r=!n&&e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(r){let e=window.location;n=r[1]===e.protocol&&r[3]===e.hostname;let t=r[4],i=e.port;(80!==t&&""!==t||"80"!==i&&""!==i)&&(n=n&&t===i)}if(!n){let n=o.ZP.getProxyUrl(t);if(n){let t=[];a()(n)&&(t=n.useCORS||[],n=n.url),t.reduce(((t,i)=>t||0===e.indexOf(i)),!1)||(i=!0)}}return i},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.ZP.getProxyUrl(e);return t&&a()(t)&&(t=t.url),t}},40649:(e,t,i)=>{"use strict";i.d(t,{z:()=>n});const o=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],n=e=>-1!==o.indexOf(e)},191976:(e,t,i)=>{"use strict";i.d(t,{y:()=>a,b:()=>l});var o=i(404780),n=i(169141),s=i(496476),r=i(923715);const a={"application/vnd.mapbox-vector-tile":o.Z,"application/json;type=geojson":n.Z,"application/json;type=topojson":s.Z},l=(e,t)=>{(0,r.C2)({asPromise:!0,style:e}).then((e=>{t.setStyle(e)})).catch((()=>{}))}}}]);