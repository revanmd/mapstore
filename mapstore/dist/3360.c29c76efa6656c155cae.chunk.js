(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[3360],{956039:(e,t,n)=>{"use strict";n.d(t,{Zw:()=>u,lW:()=>l,QH:()=>c,W6:()=>d,Nw:()=>p,ut:()=>m,jf:()=>h,Ym:()=>y,TQ:()=>v,no:()=>b,Tv:()=>S,fD:()=>T,ZF:()=>P,iE:()=>B,mj:()=>F,pz:()=>z});var r=n(288287),s=n(227361),o=n.n(s),a=n(727418),i=n.n(a);const u="GROUPMANAGER_GETGROUPS",l="GROUPMANAGER_EDITGROUP",c="GROUPMANAGER_EDITGROUP_DATA",d="GROUPMANAGER_UPDATE_GROUP",p="GROUPMANAGER_DELETEGROUP",m="GROUPMANAGER_SEARCHTEXTCHANGED",h="GROUPMANAGER_SEARCHUSERS",g="loading",f="success",x="error",y="created",v="deleted";function b(e,t){let n,s,a=t&&t.params;return a&&(n=a.start,s=a.limit),(a,i)=>{let l=e,c=i&&i();if(c){let t=o()(c,"usergroups.searchText");l=e||t||"*",n=null!=n?n:o()(c,"usergroups.start")||0,s=s||o()(c,"usergroups.limit")||12}return a(function(e,t,n){return{type:u,status:g,searchText:e,start:t,limit:n}}(l,n,s)),r.Z.getGroups(l,{...t,params:{start:n,limit:s}}).then((e=>{let t;t=e&&e.ExtGroupList&&e.ExtGroupList.Group?o()(e,"ExtGroupList.Group"):[];let r=o()(e,"ExtGroupList.GroupCount");t=Array.isArray(t)?t:[t],a(function(e,t,n,r,s){return{type:u,status:f,searchText:e,start:t,limit:n,groups:r,totalCount:s}}(l,n,s,t,r))})).catch((e=>{a(function(e,t,n,r){return{type:u,status:x,searchText:e,start:t,limit:n,error:r}}(l,n,s,e))}))}}function E(e){return{type:l,status:g,group:e}}function w(e){return{type:l,status:f,group:e}}function G(e,t){return{type:l,status:x,group:e,error:t}}function R(e){return{type:l,group:e}}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{params:{includeattributes:!0}};return n=>{e&&e.id?(n(E(e)),r.Z.getGroup(e.id,t).then((e=>{n(w(e))})).catch((t=>{n(G(e,t))}))):n(R(e))}}function T(e,t){return{type:c,key:e,newValue:t}}function Z(e){return{type:d,status:"saving",group:e}}function A(e){return{type:d,status:"saved",group:e}}function C(e,t){return{type:d,status:x,group:e,error:t}}function O(e){return{type:d,status:"creating",group:e}}function N(e,t){return{type:d,status:y,group:{...t,id:e}}}function U(e,t){return{type:d,status:x,group:e,error:t}}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{let s=i()({},{...e});return s&&s.lastError&&delete s.lastError,s&&s.id?(n(Z(s)),r.Z.updateGroupMembers(s,t).then((e=>{n(A(e)),n(b())})).catch((e=>{n(C(s,e))}))):(n(O(s)),r.Z.createGroup(s,t).then((e=>{n(N(e,s)),n(b())})).catch((e=>{n(U(s,e))})))}}function I(e){return{type:p,status:"deleting",id:e}}function k(e){return{type:p,status:v,id:e}}function D(e,t){return{type:p,status:x,id:e,error:t}}function M(e,t){return{type:p,status:e,id:t}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"confirm";return"confirm"===t||"cancelled"===t?M(t,e):"delete"===t?t=>{t(I(e)),r.Z.deleteGroup(e).then((()=>{t(k(e)),t(b())})).catch((n=>{t(D(e,n))}))}:()=>{}}function F(e){return{type:m,text:e}}function L(){return{type:h,status:g}}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:h,status:f,users:e,count:t}}function j(e){return{type:h,status:x,error:e}}function z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"*";return i=>(i(L()),r.Z.getUsers(a+e+a,{...s,params:{start:t,limit:n}}).then((e=>{let t,n=0;e&&e.ExtUserList&&e.ExtUserList.User?(t=o()(e,"ExtUserList.User"),n=o()(e,"ExtUserList.UserCount")):t=[],t=Array.isArray(t)?t:[t],i(_(t,n))})).catch((e=>{i(j(e))})))}},94841:(e,t,n)=>{"use strict";n.d(t,{C:()=>l});var r=n(124852),s=n.n(r),o=n(59810),a=n(6760),i=n(804504);const u=(0,a.Z)(o.Z),l=e=>{let{onClick:t=(()=>{}),status:n="success"}=e;return s().createElement(u,{confirmPredicate:"modified"===n,confirmTitle:s().createElement(i.Z,{msgId:"warning"}),confirmYes:s().createElement(i.Z,{msgId:"saveDialog.close"}),textId:"saveDialog.close",confirmNo:s().createElement(i.Z,{msgId:"saveDialog.cancel"}),confirmButtonBSStyle:"primary",bsStyle:"default",bsSize:"small",confirmContent:s().createElement(s().Fragment,null,s().createElement(i.Z,{msgId:"map.details.fieldsChanged"}),s().createElement("br",null),s().createElement(i.Z,{msgId:"map.details.sureToClose"})),onClick:t})}},778081:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(124852),s=n.n(r),o=n(630294),a=n(802728),i=n(270250),u=n(859653),l=n(312471);const c=e=>{let{className:t,splitTools:n,isSearchClickable:r=!0,hideOnBlur:c,typeAhead:d,placeholderMsgId:p,removeIcon:m="1-close",searchIcon:h="search",searchText:g="",searchOptions:f,maxResults:x,onSearch:y,onSearchReset:v,onSearchTextChange:b}=e;const E=(0,l.f)({searchText:g,searchOptions:f,maxResults:x,onSearch:y,onSearchReset:v});return s().createElement(a.Z,{className:t},s().createElement(o.FormGroup,null,s().createElement("div",{className:"input-group"},s().createElement(i.Z,{show:!0,hideOnBlur:c,typeAhead:d,placeholderMsgId:p,searchText:g,onSearch:E,onSearchTextChange:b}),s().createElement(u.Z,{splitTools:!1,toolbarButtons:[{glyph:m,className:"square-button-md no-border",bsStyle:"default",pullRight:!0,visible:""!==g,onClick:()=>v()},{glyph:h,className:"square-button-md no-border "+(r?"magnifying-glass clickable":"magnifying-glass"),bsStyle:"default",pullRight:!0,visible:""===g||!n,onClick:()=>E()}]}))))}},802728:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(124852),s=n.n(r);const o=e=>{let{className:t,style:n,children:r}=e;return s().createElement("div",{id:"map-search-bar",style:n,className:"MapSearchBar"+(t?" "+t:"")},r)}},270250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(124852),s=n.n(r),o=n(45697),a=n.n(o),i=n(630294),u=n(719648);const l=(e,t)=>{let{show:n,autoFocusOnSelect:r=!0,selectedItems:o=[],className:a,style:l={textOverflow:"ellipsis"},placeholder:c,placeholderMsgId:d,hideOnBlur:p=!0,searchText:m="",typeAhead:h=!0,delay:g=1e3,blurResetDelay:f=300,onSearch:x=(()=>{}),onSearchTextChange:y=(()=>{}),onCancelSelectedItem:v=(()=>{}),onPurgeResults:b=(()=>{})}=e;const E=s().useRef(),w=s().useRef(),[G,R]=s().useState(),[S,T]=s().useState(),[Z,A]=s().useState(!1);s().useEffect((()=>{const e=w.current;if(r&&o&&(e<o.length||!e&&1===o.length)){const e=E.current;e&&e.focus instanceof Function&&setTimeout((()=>e.focus()),200)}w.current=o&&o.length})),s().useEffect((()=>{Z&&(x(),A(!1))}),[Z,x]);let C="search.addressSearch";if(!c&&t.messages){const e=(0,u.S$)(t.messages,d||C);e&&(C=e)}else C=c;return n&&s().createElement(i.FormControl,{className:"searchInput"+(a?` ${a}`:""),key:"search-input",placeholder:C,type:"text",inputRef:e=>{E.current=e},style:l,value:m,onKeyDown:e=>{switch(e.keyCode){case 13:x();break;case 8:!m&&o&&o.length>0&&v(o[o.length-1])}},onBlur:()=>{p&&(G&&clearTimeout(G),R(setTimeout((()=>{b()}),f)))},onFocus:()=>{h&&m&&x()},onChange:e=>{let t=e.target.value;y(t),h&&(S&&clearTimeout(S),T(setTimeout((()=>{A(!0)}),g)))}})};l.contextTypes={messages:a().object};const c=l},859653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(124852),s=n.n(r),o=n(727418),a=n.n(o),i=n(472986),u=n.n(i),l=n(8204);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const d=e=>{let{loading:t,splitTools:n,toolbarProps:r={},toolbarButtons:o=[],children:i}=e;return s().createElement("span",{className:"search-toolbar-options"},t&&s().createElement(u(),{style:a()({},{position:"absolute"},{right:"69px",zIndex:1,top:"13px"}),spinnerName:"pulse",noFadeIn:!0}),s().createElement(l.Z,c({btnGroupProps:{className:"btn-group-menu-options"},transitionProps:null,btnDefaultProps:{className:"square-button-md",bsStyle:"primary"}},r,{buttons:o})),i)}},312471:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});const r=e=>{let{searchText:t,selectedItems:n,searchOptions:r,maxResults:s,onSearch:o=(()=>{}),onSearchReset:a=(()=>{})}=e;return()=>{const e=t,i=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,n){var r;return t+((null==n||null===(r=n.options)||void 0===r?void 0:r.maxFeatures)||e)}),0)||e}(null==r?void 0:r.services,s);void 0!==e&&""!==e||n&&0!==n.length?void 0!==e&&""!==e&&o(e,r,i):a()}}},280720:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(923645),s=n.n(r)()((function(e){return e[1]}));s.push([e.id,".ms2 .user-thumb, .ms2 .group-thumb {\n    max-width: 100%;\n    overflow: hidden;\n    height: 200px;\n    font-size: 12px;\n    cursor: auto;\n}\n.ms2 .user-thumb .gridcard-title, .ms2 .group-thumb .gridcard-title {\n    min-height: 25px;\n}\n\n.ms2 .user-thumb .gridcard-tools,.ms2 .group-thumb .gridcard-tools {\n    right: 0\n}\n.ms2 .user-data-container {\n    display: flex;\n    width: 100%;\n    height: 132px;\n}\n.ms2 .user-card-info-container {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    padding: 5px 10px 0 10px;\n    width: 0;\n}\n.ms2 .user-card-rolegroups-container {\n    display: flex;\n    min-height: 72px;\n    padding-top: 3px;\n}\n.ms2 .user-thumb .role-containter{\n    width: 50px;\n    margin-right: 20px\n}\n.ms2 .user-thumb .avatar-containter{\n    width: 50px;\n}\n.ms2 .user-thumb  .groups-container {\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    white-space: nowrap;\n    overflow: hidden;\n}\n.ms2 .user-thumb  .groups-container .groups-list{\n    width: 100%;\n    overflow-y: auto;\n    overflow-x: hidden;\n}\n\n.ms2 .user-thumb .groups-container .groups-list .group-item {\n    overflow-x: hidden;\n    text-overflow: ellipsis;\n}\n.ms2 .group-thumb .group-thumb-description {\n    font-size: 12px;\n    text-align: justify;\n    min-height: 72px;\n    display: flex;\n    flex-direction: column;\n    padding-top: 3px;\n}\n.ms2 .group-thumb .group-thumb-description .group-thumb-description-content {\n    overflow: auto;\n    word-wrap: break-word;\n}",""]);const o=s},390328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(923645),s=n.n(r)()((function(e){return e[1]}));s.push([e.id,".ms2 .user-edit-dialog, .ms2 .group-edit-dialog{\n    z-index: 1000;\n}\n\n.ms2 .user-edit-dialog,.ms2 .group-edit-dialog {\n    width: 300px;\n    margin-left: calc(50% - 150px);\n    margin-top: 100px;\n}\n\n.ms2 .user-edit-dialog .modal-body .nav-tabs li a, .ms2 .group-edit-dialog .modal-body .nav-tabs li a {\n    padding: 0;\n}\n.ms2 .group-edit-dialog .user-thumb {\n    height: auto;\n    margin-bottom: 10px;\n}\n.ms2 .group-edit-dialog .user-thumb .user-status {\n    display: none;\n}\n\n.ms2 .user-edit-dialog .modal-header, .ms2 .group-edit-dialog .modal-header {\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n.ms2 .user-edit-dialog  .Select--multi .Select-value-label{\n    max-width: 180px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.ms2 .user-edit-dialog  .Select-multi-value-wrapper {\n    max-height: 300px;\n    overflow: auto;\n    min-height: 36px;\n    min-width: 100%;\n}\n",""]);const o=s},354033:(e,t,n)=>{"use strict";var r=n(893379),s=n.n(r),o=n(280720);s()(o.Z,{insert:"head",singleton:!1}),o.Z.locals},380623:(e,t,n)=>{"use strict";var r=n(893379),s=n.n(r),o=n(390328);s()(o.Z,{insert:"head",singleton:!1}),o.Z.locals}}]);