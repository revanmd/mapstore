(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[4175],{608880:(e,t,s)=>{"use strict";s.d(t,{Z:()=>h});var r=s(124852),i=s.n(r),a=s(45697),l=s.n(a),u=s(630998);function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class o extends i().Component{constructor(){super(...arguments),n(this,"setLayer",(()=>{let e;this._layer&&this.cleanSupport(),this.props.map.eachLayer((t=>{t.layerId===this.props.layer&&(e=t)}),this),void 0!==e&&e.on("click",this.featureClicked,this),this._layer=e,this.highlightFeatures(this.props.features)})),n(this,"featureClicked",(e=>{let t=e.layer;if((e.originalEvent.ctrlKey||e.originalEvent.metaKey)&&t){let e=(0,u.findIndex)(this._selectedFeatures,(e=>e===t));-1!==e?(this._layer.resetStyle(t),this._selectedFeatures=this._selectedFeatures.filter(((t,s)=>s!==e)),t=null):this._selectedFeatures.push(t)}else this._selectedFeatures.map((e=>{this._layer.resetStyle(e)})),this._selectedFeatures=t?[t]:[];t&&(t.bringToFront(),t.setStyle(this.props.selectedStyle)),this.props.updateHighlighted(this._selectedFeatures.map((e=>e.msId)),"")})),n(this,"cleanSupport",(()=>{this._layer&&(this._selectedFeatures.map((e=>{this._layer.resetStyle(e)})),this._layer.off("click",this.featureClicked,this)),this._selectedFeatures=[],this._layer=null,this.props.updateHighlighted([],"")})),n(this,"highlightFeatures",(e=>{this._layer||this.setLayer(),this._selectedFeatures.map((e=>{this._layer.resetStyle(e)})),this._selectedFeatures=[],this._layer.eachLayer((t=>{-1!==e.indexOf(t.msId)&&(this._selectedFeatures.push(t),t.bringToFront(),t.setStyle(this.props.selectedStyle))}),this)}))}componentDidMount(){this._selectedFeatures=[],this._layer=null,"enabled"===this.props.status&&this.setLayer()}shouldComponentUpdate(e){let t=this.props;return e.status!==t.status||e.layer!==t.layer||"update"===e.status&&e.features.toString()!==t.features.toString()}UNSAFE_componentWillUpdate(e){switch(e.status){case"enabled":this.setLayer();break;case"disabled":this.cleanSupport();break;case"update":this.highlightFeatures(e.features);break;default:return}}componentWillUnmount(){this.cleanSupport()}render(){return null}}n(o,"propTypes",{map:l().object,layer:l().string,status:l().oneOf(["disabled","enabled","update"]),updateHighlighted:l().func,selectedStyle:l().object,features:l().array}),n(o,"contextTypes",{messages:l().object}),n(o,"defaultProps",{status:"disabled",updateHighlighted:()=>{},selectedStyle:{radius:12,weight:4,opacity:1,fillOpacity:1,color:"yellow",fillColor:"red"},features:[]});const h=o},692621:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r={LMap:s(728589).Z,Layer:s(580537).Z,Feature:s(574198).Z,MeasurementSupport:s(876504).Z,Overview:s(397969),ScaleBar:s(982935),DrawSupport:s(221389).Z,HighlightFeatureSupport:s(608880).Z,PopupSupport:s(795141).Z}},23279:(e,t,s)=>{var r=s(513218),i=s(707771),a=s(14841),l=Math.max,u=Math.min;e.exports=function(e,t,s){var n,o,h,p,c,d,f=0,y=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var s=n,r=o;return n=o=void 0,f=t,p=e.apply(r,s)}function v(e){return f=e,c=setTimeout(F,t),y?_(e):p}function S(e){var s=e-d;return void 0===d||s>=t||s<0||m&&e-f>=h}function F(){var e=i();if(S(e))return b(e);c=setTimeout(F,function(e){var s=t-(e-d);return m?u(s,h-(e-f)):s}(e))}function b(e){return c=void 0,g&&n?_(e):(n=o=void 0,p)}function k(){var e=i(),s=S(e);if(n=arguments,o=this,d=e,s){if(void 0===c)return v(d);if(m)return clearTimeout(c),c=setTimeout(F,t),_(d)}return void 0===c&&(c=setTimeout(F,t)),p}return t=a(t)||0,r(s)&&(y=!!s.leading,h=(m="maxWait"in s)?l(a(s.maxWait)||0,t):h,g="trailing"in s?!!s.trailing:g),k.cancel=function(){void 0!==c&&clearTimeout(c),f=0,n=d=o=c=void 0},k.flush=function(){return void 0===c?p:b(i())},k}},707771:(e,t,s)=>{var r=s(555639);e.exports=function(){return r.Date.now()}}}]);