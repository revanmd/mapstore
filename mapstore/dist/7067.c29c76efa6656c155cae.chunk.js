(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[7067],{976719:(e,t,n)=>{"use strict";n.d(t,{lD:()=>o,yK:()=>r,gf:()=>i,Qr:()=>a,Kx:()=>s,V:()=>l,Wt:()=>p,Qw:()=>u,GI:()=>d,MT:()=>c,XX:()=>m,sc:()=>h,qg:()=>g,Kf:()=>y,ES:()=>f,ud:()=>v,Bd:()=>E,pO:()=>b,Gd:()=>S,$3:()=>x,el:()=>C,CG:()=>T,h2:()=>M,NR:()=>N,RM:()=>F,dD:()=>A,wB:()=>U,Y_:()=>L,nl:()=>V,S1:()=>O});const o="CHANGE_MEASUREMENT_TOOL",r="CHANGE_MEASUREMENT_STATE",i="MEASUREMENT:CHANGE_UOM",a="MEASUREMENT:CHANGED_GEOMETRY",s="MEASUREMENT:SET_TEXT_LABELS",l="MEASUREMENT:SET_CURRENT_FEATURE",p="MEASUREMENT:ADD_AS_LAYER",u="MEASUREMENT:RESET_GEOMETRY",d="MEASUREMENT:CHANGE_FORMAT",c="MEASUREMENT:CHANGE_COORDINATES",m="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",h="MEASUREMENT:UPDATE_MEASURES",g="MEASUREMENT:INIT",y="MEASUREMENT:SET_MEASUREMENT_CONFIG",f="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function v(e,t,n,o,r){return{type:m,features:e,textLabels:t,uom:n,save:o,properties:r}}function E(e){return t=>{t(function(e){return{type:o,...e}}(e))}}function b(e,t){return{type:f,features:e,properties:t}}function S(e,t,n){return{type:i,uom:e,value:t,previousUom:n}}function x(e){return{type:a,features:e}}function C(e,t){return{type:y,property:e,value:t}}function T(e){return{type:s,textLabels:e}}function M(e){return{type:l,featureIndex:e}}function N(e,t,n){return{type:p,features:e,textLabels:t,uom:n}}function F(e){return{type:d,format:e}}function A(e){return{type:c,coordinates:e}}function U(){return{type:u}}function L(e){return{type:h,measures:e}}function V(e){return{type:r,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:g,defaultOptions:e}}},100845:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var o=n(124852),r=n.n(o),i=n(45697),a=n.n(i),s=n(630294),l=n(743129),p=n(36549),u=n(91175),d=n.n(u),c=n(807654),m=n.n(c),h=n(227361),g=n.n(h),y=n(441609),f=n.n(y),v=n(719648),E=n(8204),b=n(208335),S=n(804504),x=n(363082),C=n(495438),T=n(281763),M=n.n(T),N=n(556233),F=n(351546),A=n(481330),U=n(867076);const L=(e,t,n)=>M()(parseFloat(e))&&!isNaN(parseFloat(e))?(0,N.Ov)(parseFloat(e),t,n):e,V=(e,t,n)=>M()(parseFloat(e))&&!isNaN(parseFloat(e))?parseFloat((0,N.Ov)(e,n,t).toFixed(4)):e,O=(0,U.compose)((0,U.defaultProps)({valueUom:"m",displayUom:"m",units:[{value:"degrees",label:"deg",originUom:"degrees"},{value:"ft",label:"ft",originUom:"m"},{value:"m",label:"m",originUom:"m"},{value:"km",label:"km",originUom:"m"},{value:"mi",label:"mi",originUom:"m"},{value:"nm",label:"nm",originUom:"m"}]}),(0,U.withStateHandlers)((e=>{let{displayUom:t="nm"}=e;return{uom:t}}),{setUom:()=>e=>({uom:e})}),(0,U.withState)("localValue","setLocalValue"),(0,U.withPropsOnChange)(["value","localValue","uom","valueUom"],(e=>{let{value:t,localValue:n,uom:o,valueUom:r}=e;return{value:t===L(n,o,r)?n:V(t,o,r)}})),(0,U.withHandlers)({onChange:e=>{let{uom:t,projection:n,valueUom:o,onChange:r=(()=>{}),setLocalValue:i=(()=>{})}=e;return e=>{i(e),r(L(e,t,o),n)}}}))((e=>{let{value:t,units:n=[],uom:o,projection:i="EPSG:3857",style:a={display:"inline-flex",width:"100%"},setUom:l=(()=>{}),onChange:p=(()=>{})}=e;const u=(0,F.getUnits)(i);return r().createElement(s.FormGroup,{style:a},r().createElement(A.Z,{value:t,placeholder:"radius",name:"radius",onChange:e=>p(e,o),step:1,type:"number"}),r().createElement(s.FormControl,{componentClass:"select",placeholder:"select",value:o,onChange:e=>l(e.target.value),style:{width:85}},n.filter((e=>{let{originUom:t}=e;return u===t})).map((e=>r().createElement("option",{key:e.value,value:e.value},e.label)))))}));function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},P.apply(this,arguments)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k=(0,p.Z)(s.Glyphicon),w=(0,p.Z)(s.DropdownButton);class R extends r().Component{constructor(){var e;super(...arguments),e=this,q(this,"getValidationStateRadius",(e=>{const t=parseFloat(e);return m()(t)?"error":null})),q(this,"renderLabelTexts",((e,t)=>{const{textLabels:n,featurePropValue:o}=t;return"Polygon"===this.props.type?!f()(n)&&n[e].text:0!==e?f()(n)?!f()(o)&&o[0].formattedValue:n[e-1].text:null})),q(this,"validateCoordinates",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;if(t&&t.length){const r=t.filter(x.Tl);return n?r.length>e.props.componentsValidation[e.props.type].min||r.length>=e.props.componentsValidation[e.props.type].min&&!(0,x.Tl)(t[o]):r.length>=e.props.componentsValidation[e.props.type].min}return!1})),q(this,"validateCircle",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.properties.radius;if(t&&t.length){const e=d()(t);return!m()(parseFloat(n))&&(0,x.Tl)(e)}return!1})),q(this,"validateText",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.props.properties.valueText;if(t&&t.length){const e=d()(t);return!!n&&(0,x.Tl)(e)}return!1})),q(this,"isValid",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.components,n=arguments.length>1?arguments[1]:void 0;return e[e.props.componentsValidation[e.props.type].validation](t,!1,n)})),q(this,"addCoordPolygon",(e=>{if("Polygon"===this.props.type){var t,n,o;const r=e.filter(x.Tl),i=(null===(t=this.props.features[this.props.currentFeature])||void 0===t||null===(n=t.geometry)||void 0===n||null===(o=n.coordinates)||void 0===o?void 0:o[0])||[],a=void 0!==i?i.findIndex((e=>!(0,x.Tl)({lon:e[0],lat:e[1]}))):-1;return e.concat([r.length&&0!==a?r[0]:{lat:"",lon:""}])}return e})),q(this,"change",((e,t)=>{let n=this.props.components;const o=m()(parseFloat(t.lat))?"":parseFloat(t.lat),r=m()(parseFloat(t.lon))?"":parseFloat(t.lon);n[e]={lat:o,lon:r};let i=this.addCoordPolygon(n);this.props.onChange(i,this.props.properties.radius,this.props.properties.valueText,this.props.mapProjection),this.isValid(n)?(this.props.isMouseEnterEnabled||"LineString"===this.props.type||"Polygon"===this.props.type)&&this.props.onHighlightPoint(n[e]):((this.props.isMouseLeaveEnabled||"LineString"===this.props.type||"Polygon"===this.props.type)&&this.props.onHighlightPoint(null),this.props.onSetInvalidSelected("coords",n.map(x.bh)))}))}renderCircle(){return r().createElement("div",{style:{flex:1,overflowY:"auto",padding:"0 10px"}},r().createElement("div",null,r().createElement(s.FormGroup,{validationState:this.getValidationStateRadius(this.props.properties.radius)},r().createElement(s.ControlLabel,null,r().createElement(S.Z,{msgId:"annotations.editor.radius"})),r().createElement(O,P({placeholder:"radius"},this.props.measureOptions,{value:this.props.properties.radius,projection:this.props.mapProjection,name:"radius",onChange:(e,t)=>{this.props.onValidateFeature(),this.isValid(this.props.components,e)?this.props.onChangeRadius(parseFloat(e),this.props.components.map(x.bh),t):""!==e?this.props.onChangeRadius(parseFloat(e),[],t):(this.props.onChangeRadius(null,this.props.components.map(x.bh),t),this.props.onSetInvalidSelected("radius",this.props.components.map(x.bh)))},step:1,type:"number"})))))}render(){const e=this.props.features[this.props.currentFeature||0],t=g()(e,"geometry.textLabels",[]),n=g()(e,"properties.values",[]),{componentsValidation:o,type:i}=this.props,a=[...this.props.components],p=a.filter(x.Tl).length===a.length,u=this[o[i].validation]()&&p,c=[{value:"decimal",text:r().createElement(S.Z,{msgId:"annotations.editor.decimal"})},{value:"aeronautical",text:r().createElement(S.Z,{msgId:"annotations.editor.aeronautical"})}],m=[{glyph:u?"ok-sign text-success":"exclamation-mark text-danger",tooltipId:u?"annotations.editor.valid":o[i].notValid,visible:!0},{Element:()=>r().createElement(w,{noCaret:!0,title:r().createElement(k,{glyph:"cog"}),pullRight:!0,className:"square-button-md no-border",tooltip:"Format"},c.map((e=>{let{text:t,value:n}=e;return r().createElement(s.MenuItem,{active:this.props.format===n,key:n,onClick:()=>this.props.onChangeFormat(n)},t)})))},{glyph:"plus",tooltipId:"annotations.editor.add",disabled:"Bearing"!==i&&this.props.properties.disabled,visible:!o[i].add||!o[i].max||this.props.components.length!==o[i].max,onClick:()=>{let e=[...this.props.components];e=e.concat([{lat:"",lon:""}]),this.props.onChange(e,this.props.properties.radius,this.props.properties.valueText,this.props.mapProjection)}}];return r().createElement("div",{className:"coordinates-editor",style:this.props.style},r().createElement("div",{className:"measure-feature-selector"},r().createElement("div",null,this.props.showFeatureSelector?r().createElement(l.ZP,{value:this.props.currentFeature,disabled:this.props.properties.disabled,options:[...this.props.features.map(((e,t)=>{const n=g()(e,"properties.values",[]),o="bearing"===(n[0]||{}).type?"Bearing":e.geometry.type;if(o!==this.props.type)return null;const r="LineString"===o?"Length":"Bearing"===o?"Bearing":"Area";return{label:`${o} (${n.length>0?`${r} ${n[0].formattedValue}`:""}${n.length>1&&"Polygon"===o?`, Perimeter: ${n[1].formattedValue}`:""})`,value:t}})),{label:(0,v.S$)(this.context.messages,"annotations.editor.newFeature"),value:this.props.features.length}].filter((e=>!!e)),onChange:e=>this.props.onChangeCurrentFeature(null==e?void 0:e.value)}):null),r().createElement("div",null,r().createElement(E.Z,{btnGroupProps:{className:"pull-right"},btnDefaultProps:{className:"square-button-md no-border"},buttons:m}))),"Circle"===this.props.type&&this.renderCircle(),"Circle"===this.props.type&&r().createElement("div",{style:{flex:1,overflowY:"auto",paddingLeft:10,marginTop:10}},r().createElement("div",null,r().createElement(s.ControlLabel,null,r().createElement(S.Z,{msgId:"annotations.editor.center"})))),r().createElement("div",{className:`coordinates-row-container coordinates-row-type-${i}`},this.props.components.map(((e,a)=>r().createElement(r().Fragment,null,this.props.showLengthAndBearingLabel&&r().createElement("div",{className:"label-texts"},r().createElement("span",null,this.renderLabelTexts(a,{textLabels:t,featurePropValue:n}))),r().createElement(C.Z,{format:this.props.format,aeronauticalOptions:this.props.aeronauticalOptions,sortId:a,key:a+" key",disabled:this.props.properties.disabled&&(0,x.Tl)(e),renderer:this.props.renderer,isDraggable:this.props.isDraggable,isDraggableEnabled:this.props.isDraggable&&this[o[i].validation]()&&!this.props.properties.disabled,showDraggable:this.props.isDraggable&&!("Point"===this.props.type||"Text"===this.props.type||"Circle"===this.props.type),formatVisible:!1,removeVisible:o[i].remove,removeEnabled:this[o[i].validation](this.props.components,o[i].remove,a),onSubmit:this.change,onMouseEnter:e=>{(this.props.isMouseEnterEnabled||"LineString"===this.props.type||"Polygon"===this.props.type||"MultiPoint"===this.props.type)&&this.props.onHighlightPoint(e)},onMouseLeave:()=>{(this.props.isMouseLeaveEnabled||"LineString"===this.props.type||"Polygon"===this.props.type||"MultiPoint"===this.props.type)&&this.props.onHighlightPoint(null)},onSort:(e,t)=>{const n=this.props.components.reduce(((n,o,r)=>e===r?e>t?[...n,{...o},d()(this.props.components.filter(((e,n)=>n===t)))]:[...n,d()(this.props.components.filter(((e,n)=>n===t))),{...o}]:t===r?[...n]:[...n,{...o}]),[]).filter((e=>e));this.isValid(n)?this.props.onChange(n):this.props.properties.isValidFeature&&this.props.onSetInvalidSelected("coords",this.props.components.map(x.bh))},idx:a,component:e,onRemove:()=>{const e=this.props.components.filter(((e,t)=>t!==a));this.isValid(e)?(this.props.isMouseEnterEnabled||"LineString"===this.props.type&&a!==e.length||"Polygon"===this.props.type?this.props.onHighlightPoint(e[a]):this.props.onHighlightPoint(null),this.props.onChange(e)):this.props.properties.isValidFeature&&this.props.onSetInvalidSelected("coords",this.props.components.map(x.bh))},onValidateFeature:this.props.onValidateFeature}))))),(!this.props.components||0===this.props.components.length)&&r().createElement("div",{className:"text-center",style:{padding:15,paddingBottom:30}},r().createElement("i",null,r().createElement(S.Z,{msgId:"annotations.editor.addByClick"}))))}}q(R,"propTypes",{components:a().array,measureOptions:a().object,onSetInvalidSelected:a().func,onChange:a().func,onChangeRadius:a().func,onHighlightPoint:a().func,onChangeText:a().func,onChangeFormat:a().func,onChangeCurrentFeature:a().func,format:a().string,aeronauticalOptions:a().object,componentsValidation:a().object,transitionProps:a().object,properties:a().object,mapProjection:a().string,features:a().array,currentFeature:a().number,showFeatureSelector:a().bool,type:a().string,isDraggable:a().bool,isMouseEnterEnabled:a().bool,isMouseLeaveEnabled:a().bool,showLengthAndBearingLabel:a().bool,renderer:a().string,style:a().object,onValidateFeature:a().func}),q(R,"contextTypes",{messages:a().object}),q(R,"defaultProps",{components:[],measureOptions:{},onChange:()=>{},onChangeRadius:()=>{},onHighlightPoint:()=>{},onChangeFormat:()=>{},onChangeText:()=>{},onChangeCurrentFeature:()=>{},onSetInvalidSelected:()=>{},onValidateFeature:()=>{},componentsValidation:{Bearing:{min:2,max:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"annotations.editor.notValidPolyline"},Point:{min:1,max:1,add:!0,remove:!1,validation:"validateCoordinates",notValid:"annotations.editor.notValidMarker"},Circle:{min:1,max:1,add:!0,remove:!1,validation:"validateCircle",notValid:"annotations.editor.notValidCircle"},Text:{min:1,max:1,add:!0,remove:!1,validation:"validateText",notValid:"annotations.editor.notValidText"}},transitionProps:{transitionName:"switch-panel-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300},features:[],isDraggable:!0,isMouseEnterEnabled:!1,isMouseLeaveEnabled:!1,properties:{},type:"Point",style:{display:"flex",flexDirection:"column",flex:1}});const I=(0,b.Z)(R)},141832:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var o=n(124852),r=n.n(o),i=n(732833),a=n(756435),s=n(867076),l=n(630294),p=n(23888);const u={bottom:{true:"chevron-down",false:"chevron-up"},top:{true:"chevron-up",false:"chevron-down"},right:{true:"chevron-right",false:"chevron-left"},left:{true:"chevron-left",false:"chevron-right"}},d=e=>{let{position:t="right",onClose:n,bsStyle:o="default",title:i="",fullscreen:a=!1,showFullscreen:s=!1,glyph:d="info-sign",additionalRows:c,onFullscreen:m=(()=>{})}=e;const h=n?r().createElement(p.Z,{key:"ms-header-close",className:"square-button ms-close",onClick:n,bsStyle:o},r().createElement(l.Glyphicon,{glyph:"1-close"})):null,g=s?r().createElement(p.Z,{key:"ms-header-glyph",className:"square-button",bsStyle:o,onClick:()=>m(!a)},r().createElement(l.Glyphicon,{glyph:u[t]&&u[t][a]||"resize-full"})):r().createElement("div",{key:"ms-header-glyph",className:"square-button bg-"+o,style:{display:"flex"}},r().createElement(l.Glyphicon,{glyph:d,className:"default"===o?"text-primary":""})),y="left"===t?[h,g]:[g,h];return r().createElement(l.Grid,{fluid:!0,style:{width:"100%"},className:"ms-header ms-"+o},r().createElement(l.Row,null,r().createElement(l.Col,{xs:2},y[0]),r().createElement(l.Col,{xs:8},r().createElement("h4",null,i)),r().createElement(l.Col,{xs:2},y[1])),c)},c=(0,s.withState)("fullscreen","onFullscreen",!1)((e=>{let{fluid:t,className:n="",fullscreen:o=!1,position:s,open:l,size:p=550,style:u={},zIndex:c=1030,onClose:m,bsStyle:h,title:g,showFullscreen:y=!1,glyph:f,header:v,footer:E,children:b,onFullscreen:S=(()=>{}),fixed:x=!1,resizable:C=!1,hideHeader:T}=e;return r().createElement("div",{className:"ms-side-panel "+(x?"":"ms-absolute-dock ")+(C?"":"react-dock-no-resize ")+n},r().createElement(i.default,{fluid:t||o,position:s,dimMode:"none",isVisible:l,size:o?1:p,dockStyle:u,zIndex:c},r().createElement(a.Z,{header:!T&&l&&r().createElement(d,{position:s,onClose:m,bsStyle:h,title:g,fullscreen:o,showFullscreen:y,glyph:f,additionalRows:v,onFullscreen:S}),footer:l&&E},l&&b)))}))},688472:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var o=n(124852),r=n.n(o),i=n(867076),a=n(756435),s=n(141832),l=n(283604);const p=(0,i.renameProps)({open:"show"})((e=>{let{children:t,header:n,...o}=e;return r().createElement(l.Z,o,r().createElement(a.Z,{header:r().createElement("div",{className:"ms-header"},n)},t))})),u=(0,i.branch)((e=>{let{dock:t}=e;return!t}),(()=>e=>r().createElement(p,e)))(s.Z)},908316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n(124852),r=n.n(o),i=n(294184),a=n.n(i);const s=e=>{let{id:t,children:n,dockStyle:o,className:i,style:s={}}=e;const l={width:`calc(100% - ${((null==o?void 0:o.right)??0)+((null==o?void 0:o.left)??0)}px)`,transform:`translateX(-${(null==o?void 0:o.right)??0}px)`,pointerEvents:"none"};return r().createElement("div",{id:t,className:a()({...i?{[i]:!0}:{},"dock-container":!0}),style:{...l,...s}},n)};var l=n(496259),p=n(688472);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(this,arguments)}const d=e=>{let{children:t,containerClassName:n,containerId:o,containerStyle:i,dock:a=!0,siblings:d,size:c,...m}=e;return r().createElement(s,{dockStyle:i,id:o,className:n},r().createElement(l.Z,null,(e=>{let{width:n}=e;return r().createElement(r().Fragment,null,r().createElement(p.Z,u({dock:a,size:c/n>1?n:c},m),t),d)})))}},502422:(e,t,n)=>{"use strict";n.d(t,{U:()=>d});var o=n(687753),r=n(49977),i=n.n(r),a=n(119008),s=n(172768),l=n(296252),p=n(859518),u=n(306692);const d=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(e,t)=>i().Observable.from([(0,o.Xg)(t,"enabled",null)]),d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(e,t)=>(0,a.Yq)(t)(e);return e.ofType(s.Np,l.hZ,p.YD,u.$O).filter((e=>{let{type:o,status:r,owner:i,eventName:a,toolName:c}=e;const m=d(t.getState(),n);switch(o){case u.$O:return"featureGrid"!==n;case p.YD:return m&&"click"===a&&c!==n;case l.hZ:return m&&("drawOrEdit"===r||"start"===r)&&i!==n;case s.Np:default:return m&&"annotations"!==n}})).switchMap((e=>d(t.getState(),n)?r(t.getState(),n,e):i().Observable.empty()))}},556233:(e,t,n)=>{"use strict";n.d(t,{rp:()=>l,Ov:()=>u,wd:()=>d,L0:()=>c}),n(701469);var o=n(91175),r=n.n(o),i=n(807654),a=n.n(i);function s(e){var t=Math.floor(e),n=60*(e-t),o=Math.floor(n),r=60*(n-o);return t+"° "+o+"' "+Math.floor(r)+"'' "}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{measureTrueBearing:t=!1,fractionDigits:n=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="";if(t){let t="";e>=0&&e<10?t="00":e>10&&e<100&&(t="0"),o=t+(n>0?e.toFixed(n):Math.floor(e))+"°"}else e>=0&&e<90?o="N "+s(e)+"E":e>90&&e<=180?o="S "+s(180-e)+"E":e>180&&e<270?o="S "+s(e-180)+"W":e>=270&&e<=360&&(o="N "+s(360-e)+"W");return o}const p={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return p[t]&&p[t][n]?e*p[t][n]:e}const d=e=>!a()(parseFloat(e[0]))&&!a()(parseFloat(e[1])),c=function(){let{coordinates:e,type:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e;if("LineString"===t){if(n=e.filter(d),n.length<2)return[]}else if("Polygon"===t){if(n=r()(e).filter(d),n.length<3)return[[]];n=[n.concat([r()(n)])]}return n}},454295:(e,t,n)=>{"use strict";n.d(t,{zE:()=>v,k2:()=>b,tL:()=>C});var o=n(59854),r=n.n(o),i=n(385564),a=n.n(i),s=n(318029),l=n.n(s),p=n(944908),u=n.n(p),d=n(227361),c=n.n(d),m=n(423570),h=n.n(m),g=n(363082),y=n(556233),f=n(351546);const v="Measure",E=(e,t)=>({length:r()((0,y.Ov)(t,"m",e.length.label)||0,2)+" "+e.length.label,area:r()((0,y.Ov)(t,"sqm",e.area.label)||0,2)+" "+e.area.label,bearing:(0,y.rp)(r()(t||0,6)).toString()}),b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u()(e.map((e=>"LineString"===e.geometry.type&&"bearing"===c()(e,"properties.values[0].type","")?"Bearing":e.geometry.type)))},S={offsetY:1,fontSize:"10",fontSizeUom:"px",fontFamily:"Courier New",font:"10px Courier New",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},x={offsetY:-15,fontSize:"13",fontSizeUom:"px",fontFamily:"Courier New",font:"13px Courier New",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},C=(e,t,n,o,r,i)=>{const s=(e=>{const t=u()(e.map((e=>c()(e,"properties.values[0].type",""))));return t.length>1?{title:"Multiple Measurement",iconGlyph:"geometry-collection"}:{title:v+" "+l()(t[0]),iconGlyph:"1-measure-"+t[0]}})(e);return{type:"FeatureCollection",features:[...a()(e.map((e=>((e,t,n)=>{var o,r,i;const a=n||x,s=!(null===(o=e.properties)||void 0===o||null===(r=o.values)||void 0===r||!r.find((e=>"bearing"===e.type)));return[{type:"Feature",geometry:{type:e.geometry.type,coordinates:(0,y.L0)(e.geometry),textLabels:e.geometry.textLabels},properties:{id:h()(),isValidFeature:!0,geometryGeodesic:"LineString"!==e.geometry.type||s?null:{type:"LineString",coordinates:(0,f.transformLineToArcs)(e.geometry.coordinates)},useGeodesicLines:"LineString"===e.geometry.type&&!s,values:(null===(i=e.properties)||void 0===i?void 0:i.values)||[]},style:[{...g.z4[e.geometry.type],type:e.geometry.type,id:h()(),geometry:"LineString"!==e.geometry.type||s?null:"lineToArc",title:`${e.geometry.type} Style`,filtering:!0}].concat("LineString"===e.geometry.type?(0,g.N_)():[])},...e.properties.values.map((e=>{let{value:n,formattedValue:o,type:r,position:i}=e;return{type:"Feature",geometry:{type:"Point",coordinates:i},properties:{valueText:o||E(t,n)[r],isText:!0,isValidFeature:!0,id:h()()},style:{...a,id:h()(),filtering:!0,title:"Text Style",type:"Text"}}}))]})(e,n,i)))),...t.filter((e=>!!e)).map((e=>{let{text:t,position:n}=e;return{type:"Feature",geometry:{type:"Point",coordinates:n},properties:{valueText:t,isValidFeature:!0,isText:!0,id:h()()},style:{...S,id:h()(),filtering:!0,title:"Text Style",type:"Text"}}}))],properties:{id:o,description:r,type:v,title:s.title,iconGlyph:s.iconGlyph},style:{}}}},135393:(e,t,n)=>{var o=n(62663),r=n(244600),i=n(158748),a=RegExp("['’]","g");e.exports=function(e){return function(t){return o(i(r(t).replace(a,"")),e,"")}}},869389:(e,t,n)=>{var o=n(618674)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=o},244600:(e,t,n)=>{var o=n(869389),r=n(479833),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(i,o).replace(a,"")}},318029:(e,t,n)=>{var o=n(135393),r=n(711700),i=o((function(e,t,n){return e+(n?" ":"")+r(t)}));e.exports=i}}]);