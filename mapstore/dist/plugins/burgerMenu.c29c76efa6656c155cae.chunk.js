(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[8948],{956611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n(747037),s=n.n(o),l=n(45697),r=n.n(l),i=n(124852),a=n.n(i),p=n(630294),c=n(719648);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a().Component{constructor(){super(...arguments),m(this,"onMouseOver",(()=>{const e=s()(this.props.helpText)?this.props.helpText:(0,c.S$)(this.context.messages,this.props.helpText.props.msgId);this.props.changeHelpText(e),this.props.changeHelpwinVisibility(!0)}))}render(){return a().createElement(p.Badge,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}m(u,"propTypes",{id:r().string,helpText:r().oneOfType([r().string,r().element]),isVisible:r().bool,changeHelpText:r().func,changeHelpwinVisibility:r().func,className:r().string}),m(u,"contextTypes",{messages:r().object}),m(u,"defaultProps",{helpText:"",isVisible:!1});const h=u},80957:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var o=n(124852),s=n.n(o),l=n(45697),r=n.n(l),i=n(171703),a=n(727418),p=n.n(a),c=n(630294),m=n(36549),u=n(638510),h=n(488400),g=n(152543),d=n(687753),y=n(119008);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f.apply(this,arguments)}n(28604);const v=(0,m.Z)(c.DropdownButton),S=e=>{let{children:t,...n}=e;return s().createElement(v,f({noCaret:!0,pullRight:!0,bsStyle:"primary",title:s().createElement(c.Glyphicon,{glyph:"menu-hamburger"}),tooltipId:"options",tooltipPosition:"bottom"},n),t)},T=e=>{let{children:t,...n}=e;return s().createElement("div",n,t)},C=e=>{let{children:t,href:n,target:o,onClick:l}=e;return s().createElement("a",{href:n,target:o,onClick:l},t)};class x extends s().Component{constructor(){var e;super(...arguments),e=this,b(this,"getPanels",(e=>e.filter((e=>e.panel)).map((e=>p()({},e,{panel:!0===e.panel?e.plugin:e.panel}))).concat(e.filter((e=>e.tools)).reduce(((e,t)=>e.concat(t.tools.map(((e,n)=>({name:t.name+n,panel:e,cfg:t.cfg.toolsCfg?t.cfg.toolsCfg[n]:{}}))))),[])))),b(this,"getTools",(()=>{const t=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const o=n.map((e=>({...e,...t(e.children)}))).sort(((e,t)=>e.position-t.position)),s={container:T,containerWrapperStyle:{position:"static"},className:"burger-menu-submenu",toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:c.MenuItem,panelStyle:e.props.panelStyle,panelClassName:e.props.panelClassName};return n.length>0?{containerWrapperStyle:{position:"static"},style:{position:"relative"},childTools:o,childPanels:e.getPanels(n),innerProps:s}:{}};return[{element:s().createElement("span",{key:"burger-menu-title"},this.props.title)},...this.props.items.map((e=>({...e,...t(e.children)}))).sort(((e,t)=>e.position-t.position))]}))}componentDidMount(){const{onInit:e}=this.props;e()}componentDidUpdate(e){const{onInit:t}=this.props;!1===e.isActive&&t()}componentWillUnmount(){const{onDetach:e}=this.props;e()}render(){return s().createElement(u.Z,{id:this.props.id,className:"square-button",container:S,mapType:this.props.mapType,toolStyle:"primary",activeStyle:"default",stateSelector:"burgermenu",eventSelector:"onSelect",tool:e=>{let{children:t,...n}=e;return s().createElement(c.MenuItem,f({componentClass:C},n),t)},tools:this.getTools(),panels:this.getPanels(this.props.items),panelStyle:this.props.panelStyle,panelClassName:this.props.panelClassName})}}b(x,"propTypes",{id:r().string,dispatch:r().func,items:r().array,title:r().node,onItemClick:r().func,onInit:r().func,onDetach:r().func,controls:r().object,mapType:r().string,panelStyle:r().object,panelClassName:r().string}),b(x,"contextTypes",{messages:r().object,router:r().object}),b(x,"defaultProps",{id:"mapstore-burger-menu",items:[],onItemClick:()=>{},title:s().createElement(c.MenuItem,{header:!0},s().createElement(h.Z,{msgId:"options"})),controls:[],mapType:"leaflet",panelStyle:{minWidth:"300px",right:"52px",zIndex:100,position:"absolute",overflow:"auto"},panelClassName:"toolbar-panel",onInit:()=>{},onDetach:()=>{}});const P=(0,g.rx)("BurgerMenu",{component:(0,i.connect)((e=>({controls:e.controls,active:(0,y.$)(e)})),{onInit:d.Xg.bind(null,"burgermenu","enabled",!0),onDetach:d.Xg.bind(null,"burgermenu","enabled",!1)})(x),containers:{OmniBar:{name:"burgermenu",position:2,tool:!0,priority:1}}})},638510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var o=n(353131),s=n.n(o),l=n(727418),r=n.n(l),i=n(45697),a=n.n(i),p=n(124852),c=n.n(p),m=n(630294),u=n(171703),h=n(12838),g=n(687753),d=n(723813),y=n(956611),b=n(804504),f=n(401811),v=n(23888);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},S.apply(this,arguments)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=(0,u.connect)((e=>({isVisible:e.controls&&e.controls.help&&e.controls.help.enabled})),{changeHelpText:d.n2,changeHelpwinVisibility:d.SA})(y.Z);class x extends c().Component{constructor(){super(...arguments),T(this,"getToolConfig",(e=>e.tool?{}:this.props.toolCfg)),T(this,"getTool",(e=>{if(e.tool)return!0===e.tool?e.plugin:e.tool;let t=()=>({});const n={};return e.exclusive?(t=t=>({active:t.controls&&t.controls[this.props.stateSelector]&&t.controls[this.props.stateSelector].active===e.name}),n[this.props.eventSelector]=g.Xg.bind(null,this.props.stateSelector,"active",e.name,!0)):e.toggle?(t=t=>({bsStyle:t.controls[e.toggleControl||e.name]&&t.controls[e.toggleControl||e.name][e.toggleProperty||"enabled"]?this.props.activeStyle:this.props.toolStyle,active:t.controls[e.toggleControl||e.name]&&t.controls[e.toggleControl||e.name][e.toggleProperty||"enabled"]||!1}),n[this.props.eventSelector]=g.Xi.bind(null,e.toggleControl||e.name,e.toggleProperty||null)):e.action&&(n[this.props.eventSelector]=s()(e.action,this.context),t=e.selector||t),(0,u.connect)(t,n,((e,t,n)=>this.mergeHandlers({...n,...e},t)))(this.props.tool)})),T(this,"renderTool",((e,t)=>{if(e.element)return e.element;const n=e.help?c().createElement(C,{className:"mapstore-helpbadge",helpText:e.help}):c().createElement("span",null),o=e.tooltip?c().createElement(b.Z,{msgId:e.tooltip}):null,s=this.getTool(e),l=this.getToolConfig(e),r=e.childTools||[];return this.addTooltip(c().createElement(s,S({},l,{pluginCfg:e.cfg,tooltip:o,style:e.style,btnSize:this.props.toolSize,bsStyle:this.props.toolStyle,help:n,key:e.name||"tool"+t,mapType:this.props.mapType},e.cfg,{items:e.items||[]}),e.cfg&&e.cfg.glyph?c().createElement(m.Glyphicon,{glyph:e.cfg.glyph}):e.icon,n," ",e.text,r.length>0&&c().createElement(x,S({},e.innerProps,{mapType:this.props.mapType,tools:r,panels:e.childPanels}))),e)})),T(this,"renderTools",(()=>this.props.tools.map(this.renderTool))),T(this,"renderPanels",(()=>this.props.panels.filter((e=>!e.panel.loadPlugin)).map((e=>{const t=e.panel,n=c().createElement(t,S({key:e.name,mapType:this.props.mapType},e.cfg,e.props||{},{items:e.items||[]})),o=e.title?c().createElement(b.Z,{msgId:e.title}):null;return e.wrap?c().createElement(m.Collapse,{key:"mapToolBar-item-collapse-"+e.name,in:this.props.activePanel===e.name},c().createElement(m.Panel,{header:o,style:this.props.panelStyle,className:this.props.panelClassName},n)):n})))),T(this,"mergeHandlers",((e,t)=>Object.keys(t).reduce(((n,o)=>r()(n,{[o]:e[o]?(0,h.qC)(e[o],t[o]):t[o]})),e))),T(this,"addTooltip",((e,t)=>{if(t.tooltip){let n=c().createElement(m.Tooltip,{id:this.props.id+"-"+t.name+"-tooltip"},c().createElement(b.Z,{msgId:t.tooltip}));return c().createElement(f.Z,{key:this.props.id+"-"+t.name+"-overlay",rootClose:!0,placement:"left",overlay:n},e)}return e}))}render(){const e=this.props.container;return c().createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},c().createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}T(x,"propTypes",{id:a().string.isRequired,container:a().func,containerWrapperStyle:a().object,tool:a().oneOfType([a().object,a().func]),className:a().string,style:a().object,tools:a().array,panels:a().array,mapType:a().string,toolStyle:a().string,activeStyle:a().string,toolSize:a().string,stateSelector:a().string.isRequired,eventSelector:a().string,panelStyle:a().object,panelClassName:a().string,activePanel:a().string,toolCfg:a().object}),T(x,"contextTypes",{messages:a().object,router:a().object}),T(x,"defaultProps",{container:m.Panel,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:v.Z,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}});const P=x},488400:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(171703),s=n(804504);const l=(0,o.connect)((e=>({locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]})))(s.Z)},665840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(923645),s=n.n(o)()((function(e){return e[1]}));s.push([e.id,".ms2 #mapstore-burger-menu {\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.ms2 .burger-menu-submenu {\n    display: none;\n    position: absolute;\n    left: -160px;\n    top: 0;\n    width: 160px;\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);\n}\n\n.ms2 .burger-menu-submenu li a {\n    display: block;\n    padding: 10px 15px;\n}\n\n.ms2 .burger-menu-submenu li a:hover {\n    text-decoration: none;\n}\n\n.ms2 #mapstore-burger-menu .dropdown-menu>li>a:hover>span>.burger-menu-submenu,\n.ms2 .burger-menu-submenu>li>a:hover>span>.burger-menu-submenu {\n    display: block;\n}\n\n.ms2 .burger-menu-submenu span {\n    overflow: hidden;\n}\n\n.ms2 #mapstore-navbar #mapstore-burger-menu {\n    position: relative;\n    float: right;\n    left: 0;\n}\n",""]);const l=s},28604:(e,t,n)=>{"use strict";var o=n(893379),s=n.n(o),l=n(665840);s()(l.Z,{insert:"head",singleton:!1}),l.Z.locals}}]);