(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[9803],{103805:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>_});var r=o(171703);const s="SET_COOKIE_VISIBILITY",l="SET_MORE_DETAILS_VISIBILITY",c="SET_DETAILS_COOKIE_HTML";function i(e){return{type:s,status:e}}var n=o(45697),a=o.n(n),p=o(124852),m=o.n(p),h=o(630294),u=o(23888),k=o(804504);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class b extends m().Component{render(){return m().createElement("div",{className:"cookie-seeMore",dangerouslySetInnerHTML:{__html:this.props.html}})}}d(b,"propTypes",{html:a().string}),d(b,"contextTypes",{}),d(b,"defaultProps",{});const y=b;var g=o(272124);function E(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class f extends m().Component{constructor(){super(...arguments),E(this,"renderAcceptButton",(()=>m().createElement(u.Z,{className:"cookie-button",id:"accept-cookie",bsStyle:"primary",onClick:()=>this.accept(!0)},m().createElement(k.Z,{msgId:"cookie.accept"})))),E(this,"renderMoreDetails",(()=>this.props.externalCookieUrl?m().createElement("a",{style:{cursor:"pointer"},id:"accept-cookie",href:this.props.externalCookieUrl},m().createElement(u.Z,{className:"cookie-button",id:"decline-cookie",bsStyle:"primary"},m().createElement(k.Z,{msgId:"cookie.moreDetailsButton"}))):m().createElement(u.Z,{onClick:()=>this.moreDetails(),className:"cookie-button",id:"decline-cookie",bsStyle:"primary"},m().createElement(k.Z,{msgId:"cookie.moreDetailsButton"})))),E(this,"renderLeaveButton",(()=>m().createElement("a",{href:this.props.declineUrl,target:"_self",style:{cursor:"pointer"}},m().createElement(u.Z,{className:"cookie-button",id:"decline-cookie",bsStyle:"primary"},m().createElement(k.Z,{msgId:"cookie.leave"}))))),E(this,"moreDetails",(()=>{this.props.onMoreDetails(!this.props.seeMore)})),E(this,"accept",(()=>{try{(0,g.ac)().setItem("cookies-policy-approved",!0)}catch(e){console.error(e)}this.props.onSetCookieVisibility(!1)}))}render(){return this.props.show?m().createElement("div",{className:this.props.seeMore?"mapstore-cookie-panel see-more":"mapstore-cookie-panel not-see-more"},m().createElement("div",{role:"header",className:"cookie-header",style:{height:this.props.seeMore?"44px":"0px"}},this.props.seeMore?m().createElement(h.Glyphicon,{className:"cookie-close-btn",glyph:"1-close",onClick:()=>this.props.onMoreDetails(!1)}):null),m().createElement("div",{role:"body",className:"cookie-body-container"},!this.props.externalCookieUrl&&this.props.seeMore?m().createElement(y,{html:this.props.html}):m().createElement("div",{className:"cookie-message"},m().createElement(k.Z,{msgId:"cookie.info"})),m().createElement("br",null),this.props.seeMore?null:m().createElement("div",{className:"cookie-action"},m().createElement(h.Col,{xs:6,sm:4,className:"action-button"},this.renderAcceptButton()),m().createElement(h.Col,{xs:6,sm:4,className:"action-button"},this.renderMoreDetails()),m().createElement(h.Col,{xs:6,sm:4,className:"action-button"},this.renderLeaveButton()),m().createElement(h.Col,{xs:12},m().createElement("br",null))))):null}}E(f,"propTypes",{declineUrl:a().string,externalCookieUrl:a().string,locale:a().string,onMoreDetails:a().func,onSetCookieVisibility:a().func,seeMore:a().bool,show:a().bool}),E(f,"contextTypes",{messages:a().object}),E(f,"defaultProps",{declineUrl:"http://www.google.com",onMoreDetails:()=>{},onSetCookieVisibility:()=>{},seeMore:!1,show:!1});const C=f;var M=o(275982),v=o(49977),I=o.n(v),S=o(682465),w=o(470509),x=o.n(w);const T={cookiePolicyChecker:e=>e.ofType(M.nk).take(1).filter((()=>{try{return!(0,g.ac)().getItem("cookies-policy-approved")}catch(e){return console.error(e),!1}})).switchMap((()=>I().Observable.of(i(!0)))),loadCookieDetailsPage:(e,t)=>e.ofType(l,S.IX).filter((()=>!(0,g.ac)().getItem("cookies-policy-approved")&&t.getState().cookie.seeMore&&!t.getState().cookie.html[t.getState().locale.current])).switchMap((()=>I().Observable.fromPromise(x().get("translations/fragments/cookie/cookieDetails-"+t.getState().locale.current+".html",null,{timeout:6e4,headers:{Accept:"text/html","Content-Type":"text/html"}}).then((e=>e.data))))).switchMap((e=>I().Observable.of(function(e,t){return{type:c,html:e,lang:t}}(e,t.getState().locale.current))))};var D=o(727418),N=o.n(D);const _={CookiePlugin:(0,r.connect)((e=>({show:e.cookie&&e.cookie.showCookiePanel,html:e.cookie&&e.cookie.html&&e.cookie.html[e.locale&&e.locale.current],seeMore:e.cookie&&e.cookie.seeMore})),{onSetCookieVisibility:i,onMoreDetails:function(e){return{type:l,status:e}}})(C),reducers:{cookie:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{html:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return N()({},e,{showCookiePanel:t.status});case l:return N()({},e,{seeMore:t.status});case c:return N()({},e,{html:{...e.html,[t.lang]:t.html}});default:return e}}},epics:T}}}]);