(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[1216],{483058:(e,t,r)=>{"use strict";r.d(t,{fy:()=>a,gd:()=>o,zZ:()=>n,ZR:()=>i});const a="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function n(e){return{type:a,boxEndInfo:e}}function i(e){return{type:o,status:e}}},253816:(e,t,r)=>{"use strict";r.d(t,{F2:()=>a,fu:()=>o,NF:()=>n,WP:()=>i,_E:()=>l});const a="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",n="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function i(e){return{type:n,featuresPath:e}}function l(e,t){return{type:o,features:e,status:t}}},700758:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Et});var a={};r.r(a),r.d(a,{activateBoxSelectionTool:()=>Te,activateGeometryFilter:()=>ke,activateTemporaryChangesEpic:()=>Me,askChangesConfirmOnFeatureGridClose:()=>Re,autoCloseFeatureGridEpicOnDrowerOpen:()=>qe,autoReopenFeatureGridOnFeatureInfoClose:()=>Ze,closeFeatureGridOnDrawingToolOpen:()=>ze,closeIdentifyWhenOpenFeatureGrid:()=>tt,closeRightPanelOnFeatureGridOpen:()=>Ne,deactivateBoxSelectionTool:()=>Se,deactivateGeometryFilter:()=>Pe,deactivateSyncWmsFilterOnFeatureGridClose:()=>ot,deleteGeometryFeature:()=>Le,deleteSelectedFeatureGridFeatures:()=>_e,disableMultiSelect:()=>we,enableGeometryFilterOnEditMode:()=>ve,featureGridBrowseData:()=>de,featureGridChangePage:()=>Ge,featureGridLayerSelectionInitialization:()=>fe,featureGridReloadPageOnSaveSuccess:()=>xe,featureGridSort:()=>ge,featureGridStartupQuery:()=>ce,featureGridUpdateGeometryFilter:()=>ye,featureGridUpdateTextFilters:()=>me,handleBoxSelectionDrawEnd:()=>Oe,handleClickOnMap:()=>he,handleDrawFeature:()=>$e,handleEditFeature:()=>De,handleGeometryFilterActivation:()=>Ee,hideDrawerOnFeatureGridOpenMobile:()=>ut,hideFeatureGridOnDrawerOpenMobile:()=>st,launchUpdateFilterEpic:()=>be,onClearChangeConfirmedFeatureGrid:()=>We,onCloseFeatureGridConfirmed:()=>Ke,onFeatureGridCreateNewFeature:()=>Ve,onFeatureGridGeometryEditing:()=>He,onFeatureGridZoomAll:()=>Je,onOpenAdvancedSearch:()=>Qe,removeWmsFilterOnGridClose:()=>Xe,replayOnTimeDimensionChange:()=>lt,resetControlsOnEnterInEditMode:()=>et,resetEditingOnFeatureGridClose:()=>Ae,resetGridOnLocationChange:()=>je,resetQueryPanel:()=>Ye,resetSnappingLayerOnFeatureGridClosed:()=>dt,savePendingFeatureGridChanges:()=>Ie,selectFeaturesOnMapClickResult:()=>Fe,setDefaultSnappingLayerOnFeatureGridOpen:()=>pt,setHighlightFeaturesPath:()=>Be,startSyncWmsFilter:()=>rt,stopSyncWmsFilter:()=>at,syncMapWmsFilter:()=>nt,toggleSnappingOffOnFeatureGridViewMode:()=>ft,triggerDrawSupportOnSelectionChange:()=>Ue,updateSelectedOnSaveOrCloseFeatureGrid:()=>Ce,virtualScrollLoadFeatures:()=>it});var o=r(124852),n=r(171703),i=r(22222),l=r(152543),s=r(49977),u=r.n(s),p=r(227361),d=r.n(p),f=r(91175),c=r.n(f),g=r(441609),y=r.n(g),b=r(313311),m=r.n(b),v=r(984596),w=r.n(v),h=r(264721),O=r.n(h),T=r(354061),S=r.n(T),F=r(275982),M=r(470509),E=r.n(M),P=r(813292),k=r.n(P),G=r(436916),x=r(112008),C=r(727418),I=r.n(C),_=r(296252),D=r(901798),$=r.n(D),A=r(452341),N=r(917450),z=r(612132),H=r(884757),L=r(859518),U=r(483058),V=r(274363),B=r(333101),j=r(306692),Y=r(687753),q=r(119008),R=r(253816),W=r(820709),K=r(504518),X=r(254020),Z=r(510810),Q=r(127608),J=r(308602),ee=r(191332),te=r(351546),re=r(835516),ae=r(350126),oe=r(502422);const ne=function(e){let{page:t,size:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,W.Vf)(e),o=void 0!==r?r:a.size;return{startIndex:void 0!==t?t*o:a.page*o,maxFeatures:o}},ie=(e,t)=>({...e,pagination:t}),le=(e,t,r)=>{let{insert:a,update:o,propertyChange:n,getPropertyName:i,transaction:l}=r;return l(t.map((e=>a(e))),Object.keys(e).map((t=>Object.keys(e[t]).map((r=>o([n(i(r),e[t][r]),(0,G.fidFilter)("ogc",t)]))))))},se=(e,t)=>u().Observable.defer((()=>E().post(e,t,{headers:{"Content-Type":"application/xml"}}))).let(Z.oB),ue=function(){let{featuregrid:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,B.He)(e.selectedLayer,{filterObj:void 0})},pe=e=>function(){var t;let{update:r={},append:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:o}=(0,W.Li)(e.getState()),n={...d()(e.getState(),`featuregrid.advancedFilters["${o}"]`)};if(n){const t=(0,W.M0)(e.getState())||{},a=S()(t,((e,t,r)=>(0,x.dJ)({attribute:r,...t},e)),{});let o="AND";a.spatialField&&(n.spatialField=void 0,o=a.spatialFieldOperator);const i=(0,ee.composeAttributeFilters)([n,a],"AND",o),l={...n,...i};return(0,z.rh)({updates:l,reason:null==r?void 0:r.type})}let i=r;return a&&null!=r&&r.attribute&&(i=(0,W.M0)(e.getState())[null==r?void 0:r.attribute]),(0,z.rh)({updates:(0,x.dJ)(i,(0,X.X1)(e.getState())),reason:null===(t=i)||void 0===t?void 0:t.type})},de=(e,t)=>e.ofType(B.R8).switchMap((r=>{let{layer:a}=r;const o=d()(t.getState(),"query.typeName");return u().Observable.of(...o!==a.name?[(0,H.mc)()]:[],(0,Y.Xg)("drawer","enabled",!1),(0,j.uF)(a.id),(0,j.t9)()).merge(function(e,t){let{url:r,name:a,id:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=d()(t.getState(),`featuregrid.advancedFilters["${o}"]`),i=()=>(0,z.rP)(r,n||{featureTypeName:a,filterType:"OGC",ogcVersion:"1.1.0"});return u().Observable.of((0,z.gT)(r,a)).merge(e.ofType(z.u7).filter((function(){let{typeName:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e===a})).map(i))}(e,t,a))})),fe=e=>e.ofType(z.DR).switchMap((e=>u().Observable.of((0,j.uF)(e.id)))),ce=(e,t)=>e.ofType(z.Yx).switchMap((()=>u().Observable.of((0,j.oO)(0)).concat((0,W.eK)(t.getState())===j.EH.VIEW?u().Observable.of((0,j.nY)()):u().Observable.empty()))),ge=(e,t)=>e.ofType(j.dY).switchMap((r=>{let{sortBy:a,sortOrder:o}=r;return u().Observable.of((0,z.IO)((0,X.Bu)(t.getState()),ie({...(0,X.X1)(t.getState()),sortOptions:{sortBy:a,sortOrder:o}},ne(t.getState())),(0,W.TC)(t.getState()))).merge(e.ofType(z.Hu).map((e=>(0,j.UB)(d()(e,"result.features",[]),[d()(e,"filterObj.pagination.startIndex")]))).takeUntil(e.ofType(z.VT)).take(1))})),ye=(e,t)=>e.ofType(j.$O).switchMap((()=>{var r;const a=null===(r=(0,W.Vf)(t.getState()))||void 0===r?void 0:r.size;return e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&t.enabled&&!t.value})).switchMap((()=>{let r=!1;return e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&t.enabled&&!t.deactivated})).switchMap(((e,a)=>0===a?(r=!0,u().Observable.from([(0,j.Jr)(1e5),(0,j.KD)([]),pe(t)(e)])):u().Observable.of(pe(t)(e)))).takeUntil(u().Observable.merge(e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&!t.enabled})),e.ofType(j.sF,F.nk))).merge(e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&!t.enabled})).take(1).switchMap((e=>r?u().Observable.of((0,j.Jr)(a),pe(t)(e)):u().Observable.of(pe(t)(e)))).takeUntil(e.ofType(j.sF,F.nk))).merge(e.ofType(j.sF,F.nk).take(1).switchMap((()=>{var e;const o=(0,j.a8)({attribute:null===(e=(0,A.findGeometryProperty)((0,X.Qs)(t.getState())))||void 0===e?void 0:e.name,enabled:!1,type:"geometry"});return r?u().Observable.of((0,j.Jr)(a),o,(0,j.pP)(o)):u().Observable.of(o,(0,j.pP)(o))})))}))})),be=(e,t)=>e.ofType(j.iB).switchMap((e=>u().Observable.of(pe(t)(e.updateFilterAction)))),me=(e,t)=>e.ofType(z.Yx).switchMap((()=>e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"!==t.type})).map(pe(t)))),ve=(e,t)=>e.ofType(j.aO).filter((()=>(0,W.eK)(t.getState())===j.EH.EDIT)).switchMap((()=>(m()((0,W.M0)(t.getState()),(e=>"geometry"===e.type))||{}).value?u().Observable.empty():u().Observable.of((0,j.a8)({attribute:(0,A.findGeometryProperty)((0,X.Qs)(t.getState())).name,enabled:!0,type:"geometry"})))),we=e=>e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&!t.enabled})).switchMap((()=>u().Observable.of((0,j.dq)({multiselect:!1})))),he=(e,t)=>e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&t.enabled})).switchMap((()=>e.ofType(L.TR).switchMap((e=>{let{point:r}=e;const{latlng:a,pixel:o,modifiers:{ctrl:n,metaKey:i}}=r,l=m()((0,W.M0)(t.getState()),(e=>"geometry"===e.type))||{},s=(0,V.uy)(t.getState()),p=te.default.reproject([a.lng,a.lat],"EPSG:4326",s),f=re.default.getHook(re.default.GET_COORDINATES_FROM_PIXEL_HOOK),c=te.default.calculateCircleRadiusFromPixel(f,o,p,4);return l.deactivated?u().Observable.empty():u().Observable.of((0,j.dq)({multiselect:(n||i)??!1}),(0,j.a8)({...l,value:{attribute:l.attribute||d()((0,Q.vE)(t.getState()),"attribute"),geometry:{center:[p.x,p.y],coordinates:te.default.calculateCircleCoordinates(p,c,12),extent:[p.x-c,p.y-c,p.x+c,p.y+c],projection:s,radius:c,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}},n||i))})).takeUntil(u().Observable.merge(e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&!t.enabled})),e.ofType(F.nk))))),Oe=(e,t)=>e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&t.enabled})).switchMap((()=>e.ofType(U.fy).switchMap((e=>{let{boxEndInfo:r}=e;const{boxExtent:a,modifiers:{ctrl:o,metaKey:n}}=r,i=te.default.getPolygonFromExtent(a),l=(0,V.uy)(t.getState()),s=m()((0,W.M0)(t.getState()),(e=>"geometry"===e.type))||{};return s.deactivated?u().Observable.empty():u().Observable.of((0,j.dq)({multiselect:(o||n)??!1}),(0,j.a8)({...s,value:{geometry:{...i.geometry,projection:l},attribute:s.attribute||d()((0,Q.vE)(t.getState()),"attribute"),method:"Rectangle",operation:"INTERSECTS"}},o||n))})).takeUntil(u().Observable.merge(e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&!t.enabled})))))),Te=e=>e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&t.enabled})).switchMap((()=>u().Observable.of((0,U.ZR)("start")))),Se=e=>u().Observable.merge(e.ofType(j._u).filter((e=>{let{update:t={}}=e;return"geometry"===t.type&&!t.enabled})),e.ofType(j.sF)).switchMap((()=>u().Observable.of((0,U.ZR)("end")))),Fe=(e,t)=>e.ofType(z.Hu).filter((e=>{let{reason:t}=e;return"geometry"===t})).switchMap((e=>{let{result:r}=e,a=d()(r,"features");const o=(0,W.gz)(t.getState()),n=m()((0,W.M0)(t.getState()),(e=>"geometry"===e.type));return u().Observable.of((0,j.KD)(a.length>0&&n&&n.value?[...a]:[],o))})),Me=e=>e.ofType(j.VV).flatMap((e=>{let{activated:t}=e;return u().Observable.of((0,j.YG)(t),(0,j.VH)(t))})),Ee=(e,t)=>e.ofType(j._9).flatMap((()=>{const e=m()((0,W.M0)(t.getState()),(e=>"geometry"===e.type))||{},r=(0,W.LB)(t.getState()),a=(0,W.b4)(t.getState());return u().Observable.of((0,j.a8)({...e,type:"geometry",attribute:e.attribute||d()((0,Q.vE)(t.getState()),"attribute"),deactivated:!(!r&&!a&&e.deactivated)}))})),Pe=(e,t)=>u().Observable.merge(e.ofType(j.IN,_.DI,j.JB,j.K8),e.ofType(j.B8).filter((e=>{let{deactivated:t}=e;return!!t}))).flatMap((()=>{const e=m()((0,W.M0)(t.getState()),(e=>"geometry"===e.type))||{};return e.deactivated?u().Observable.empty():u().Observable.of((0,j.a8)({...e,type:"geometry",attribute:e.attribute||d()((0,Q.vE)(t.getState()),"attribute"),deactivated:!0}))})),ke=(e,t)=>u().Observable.merge(e.ofType(j.AY,j.yi),e.ofType(j.B8).filter((e=>{let{deactivated:t}=e;return!t}))).flatMap((()=>{const e=m()((0,W.M0)(t.getState()),(e=>"geometry"===e.type))||{},r=(0,W.LB)(t.getState()),a=(0,W.b4)(t.getState());return!e.deactivated||r||a?u().Observable.empty():u().Observable.of((0,j.a8)({...e,type:"geometry",attribute:e.attribute||d()((0,Q.vE)(t.getState()),"attribute"),deactivated:!1}))})),Ge=(e,t)=>e.ofType(j.gG).merge(e.ofType(z.VN).debounceTime(500).map((e=>({...e,page:0})))).switchMap((r=>(e=>function(){let{page:t,size:r,reason:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=e.getState();return u().Observable.of((0,z.IO)((0,X.Bu)(o),ie({...(0,X.X1)(o)},ne(o,{page:t,size:r})),(0,W.TC)(o),a))})(t)(r).merge(e.ofType(z.Hu).map((e=>{let r=d()(e,"result.features",[]);const a=(0,W.gz)(t.getState()),o=m()((0,W.M0)(t.getState()),(e=>"geometry"===e.type));return a&&null!=o&&o.enabled&&(r=(0,W._w)(t.getState())),(0,j.UB)(r,[d()(e,"filterObj.pagination.startIndex")])})).take(1).takeUntil(e.ofType(z.VT))))),xe=(e,t)=>e.ofType(j.AY).switchMap((function(){let{page:r,size:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u().Observable.of((0,z.IO)((0,X.Bu)(t.getState()),ie({...(0,X.X1)(t.getState())},ne(t.getState(),{page:r,size:a})),(0,W.TC)(t.getState())),(0,B.ct)((0,W.u$)(t.getState()))).merge(e.ofType(z.Hu).map((e=>u().Observable.of((0,j.$E)(),(0,j.UB)(d()(e,"result.features",[]),[d()(e,"filterObj.pagination.startIndex")])))).mergeAll().takeUntil(e.ofType(z.VT)).take(2))})),Ce=e=>e.ofType(j.AY,j.sF).switchMap((()=>u().Observable.of((0,j.KD)([])))),Ie=(e,t)=>e.ofType(j.zh).switchMap((()=>u().Observable.of((0,j.fO)()).concat(function(){let e=arguments.length>2?arguments[2]:void 0;return se(arguments.length>3?arguments[3]:void 0,le(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],$()(e)))}((0,W.ND)(t.getState()),(0,W.kG)(t.getState()),(0,X.Qs)(t.getState()),(0,X.Bu)(t.getState())).map((()=>(0,j.gc)())).catch((e=>u().Observable.of((0,j.cE)(),(0,K.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError",autoDismiss:5}))))))),_e=(e,t)=>e.ofType(j.Hk).switchMap((()=>{return u().Observable.of((0,j.fO)()).concat((e=(0,W._w)(t.getState()),r=(0,X.Qs)(t.getState()),a=(0,X.Bu)(t.getState()),se(a,((e,t)=>{let{transaction:r,deleteFeature:a}=t;return r(e.map(a))})(e,$()(r)))).map((()=>(0,j.gc)())).catch((e=>u().Observable.of((0,j.cE)(),(0,K.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError"})))).concat(u().Observable.of((0,j.Pv)("deleteConfirm"),(0,j.MO)())));var e,r,a})),De=(e,t)=>e.ofType(j.Ub).switchMap((()=>{const e=t.getState(),r=(0,X.Qs)(e),a=(0,x.cZ)(),o=(0,A.findGeometryProperty)(r).localType,n={featureProjection:a,stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1};let i=I()({},(0,W.P3)(e),{type:"Feature"}),l=(0,W.ND)(e);return l[i.id]&&l[i.id]&&l[i.id].geometry&&(i.geometry=l[i.id].geometry),u().Observable.of((0,_.Yf)("drawOrEdit",o,"featureGrid",[i],n))})),$e=(e,t)=>e.ofType(j._9).switchMap((()=>{const e=t.getState(),r=(0,X.Qs)(e),a=(0,x.cZ)(),o=(0,A.findGeometryProperty)(r).localType;let n=I()({},(0,W.P3)(e),{type:"Feature"}),i=(0,W.ND)(e);i[n.id]&&(i[n.id].geometry||null===i[n.id].geometry)&&(n.geometry=i[n.id].geometry),n._new&&(n.geometry=c()((0,W.kG)(e)).geometry);const l={featureProjection:a,stopAfterDrawing:!0,editEnabled:!(0,W.Ae)(e),drawEnabled:(0,W.Ae)(e)};return u().Observable.of((0,_.Yf)("drawOrEdit",o,"featureGrid",[n],l))})),Ae=(e,t)=>e.ofType(j.$O).switchMap((()=>e.ofType(j.aO).filter((()=>(0,W.eK)(t.getState())===j.EH.EDIT)).take(1).switchMap((()=>e.ofType(F.nk,j.sF).take(1).switchMap((()=>u().Observable.of((0,_.bp)()))))))),Ne=(e,t)=>e.ofType(j.$O).switchMap((()=>{const e=[],r=t.getState();return(0,ae.Ju)(r).right.forEach((t=>{(0,q.Yq)(t)(r)&&e.push((0,Y.Xg)(t,"enabled",!1))})),u().Observable.from(e)})),ze=(e,t)=>(0,oe.U)(e,t,"featureGrid",(()=>u().Observable.from([(0,j.YV)()])),(e=>(0,W.Rd)(e))),He=(e,t)=>e.ofType(_.DI).filter((e=>"featureGrid"===e.owner)).delay(500).switchMap((e=>{const r=t.getState(),a={featureProjection:(0,x.cZ)(),stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1};let o=e.features.map(((e,t)=>I()({},e,{id:(0,W._w)(r)[t].id,_new:(0,W._w)(r)[t]._new,type:"Feature"}))),n=I()({},c()(e.features),{id:(0,W.P3)(r).id,_new:(0,W.P3)(r)._new,type:"Feature"}),i="enterEditMode"===e.enableEdit?u().Observable.of((0,_.Yf)("drawOrEdit",n.geometry.type,"featureGrid",o,a)):u().Observable.empty();return u().Observable.of((0,j.Vw)(o)).concat(i)})),Le=(e,t)=>e.ofType(j.JB).switchMap((()=>{const e=t.getState();return u().Observable.from([(0,j.F5)((0,W._w)(e)),(0,_.bp)()])})),Ue=(e,t)=>e.ofType(j.Oj,j.jp,j.yi,j.aO).filter((()=>(0,W.eK)(t.getState())===j.EH.EDIT&&(0,W.bq)(t.getState()))).switchMap((e=>((e,t)=>{const r=(0,x.cZ)(),a=(0,A.findGeometryProperty)((0,X.Qs)(e)).localType,o={featureProjection:r,stopAfterDrawing:re.default.isSimpleGeomType(a),editEnabled:!0,drawEnabled:!1},n=(0,W._w)(e).map((r=>{let a=I()({},r,{type:"Feature"});if(!y()(a)){let r=(0,W.ND)(e);if(r[a.id]&&(r[a.id].geometry||null===r[a.id].geometry)&&(a.geometry=r[a.id].geometry),a._new&&!a.geometry){const t=m()((0,W.kG)(e),{id:a.id});t&&t.geometry&&(a.geometry=t.geometry)}t&&(a.geometry=(0,X.dc)(e,a.id)?(0,X.dc)(e,a.id).geometry:null)}return a})).filter((e=>null!==e.geometry||"empty_row"!==e.id));return n.length>0?u().Observable.from([(0,_.Yf)("drawOrEdit",a,"featureGrid",n,o)]):u().Observable.from([(0,_.Yf)("clean","","featureGrid",[],{})])})(t.getState(),e.type===j.yi))),Ve=e=>e.ofType(j.IN).switchMap((()=>u().Observable.of((0,_.bp)()))),Be=(e,t)=>e.ofType(j.aO).switchMap((e=>e.mode===j.EH.VIEW?u().Observable.of((0,_.bp)(),(0,R.WP)("featuregrid.select")):e.mode!==j.EH.EDIT||(0,W.bq)(t.getState())?u().Observable.of((0,R.WP)()):u().Observable.of((0,_.bp)(),(0,R.WP)("featuregrid.select"),(0,K.Kp)({title:"featuregrid.notSupportedGeometryTitle",message:"featuregrid.notSupportedGeometry",uid:"notSupportedGeometryWarning",autoDismiss:5})))),je=e=>e.ofType(j.$O).switchMap((()=>e.ofType(F.nk).take(1).switchMap((()=>u().Observable.of((0,j.nY)(),(0,j.YV)()))).takeUntil(e.ofType(j.sF)))),Ye=(e,t)=>e.ofType(F.nk).switchMap((()=>(0,q._d)(t.getState())?u().Observable.of((0,Y.Xg)("queryPanel","enabled",!1)):u().Observable.empty())),qe=(e,t)=>e.ofType(j.$O).switchMap((()=>e.ofType(Y.kM).filter((e=>e.control&&"drawer"===e.control&&(0,W.Rd)(t.getState()))).switchMap((()=>u().Observable.of((0,j.YV)(),(0,j.KD)([])))).takeUntil(e.ofType(F.nk)))),Re=(e,t)=>e.ofType(j.bZ).switchMap((()=>{const e=t.getState();return(0,W.LB)(e)||(0,W.b4)(e)?u().Observable.of((0,j.Pv)("featureCloseConfirm",!0)):u().Observable.of((0,j.YV)())})),We=e=>e.ofType(j.Gk).switchMap((()=>u().Observable.of((0,j.$E)(),(0,j.Pv)("clearConfirm",!1)))),Ke=e=>e.ofType(j.vO).switchMap((()=>u().Observable.of((0,Y.Xg)("drawer","enabled",!1),(0,j.Pv)("featureCloseConfirm",!1)))),Xe=(e,t)=>e.ofType(j.$O).exhaustMap((()=>e.ofType(j.sF).delay(50).filter((()=>(0,X.M7)(t.getState()))).switchMap((()=>u().Observable.of(ue(t.getState())))).takeUntil(e.ofType(F.nk,N.xy,j.VM)))),Ze=e=>e.ofType(j.$O).switchMap((()=>u().Observable.race(e.ofType(N.xy).take(1),e.ofType(j.sF).take(1)).exhaustMap((t=>t.type===j.sF?u().Observable.empty():e.ofType(N.F9).switchMap((()=>u().Observable.of((0,j.t9)()))))).takeUntil(e.ofType(F.nk,Y.kM).filter((e=>e.type===F.nk||e.control&&"drawer"===e.control)).merge(e.ofType(j.sF).withLatestFrom(e.ofType(N.xy,N.F9).scan(((e,t)=>{let{type:r}=t;switch(r){case N.xy:return!1;case N.F9:return!0;default:return!1}}),!0).startWith(!0),((e,t)=>t)).filter((e=>e)))))),Qe=(e,t)=>e.ofType(j.VM).switchMap((()=>u().Observable.of((0,j.KD)([]),(0,H.F)(d()(t.getState(),`featuregrid.advancedFilters["${(0,W.u$)(t.getState())}"]`)),(0,j.YV)(),(0,Y.Xg)("queryPanel","enabled",!0)).merge(u().Observable.race(e.ofType(H.Wm).mergeMap((e=>u().Observable.of((0,z.rP)(e.searchUrl,e.filterObj),(0,j.Uh)(I()({},(0,Q.gC)(t.getState()),e.filterObj)),(0,Y.Xg)("queryPanel","enabled",!1),(0,j.t9)()))),e.ofType(Y.kM).filter((function(){let{control:e,property:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"queryPanel"===e&&(!t||"enabled"===t)})).mergeMap((()=>{const{drawStatus:e}=t.getState().draw||{},r="clean"!==e?[(0,_.Yf)("clean","","featureGrid",[],{})]:[];return u().Observable.from(r.concat((0,j.t9)()))}))).takeUntil(e.ofType(j.$O,F.nk))))),Je=(e,t)=>e.ofType(j.a3).filter((()=>!d()(t.getState(),"featuregird.virtualScroll",!1))).switchMap((()=>u().Observable.of((0,L.Px)(k()((0,X.F0)(t.getState())),"EPSG:4326")))),et=e=>e.ofType(j.aO).filter((e=>e.mode===j.EH.EDIT)).map((()=>(0,Y.fV)(["query"]))),tt=e=>e.ofType(j.$O).switchMap((()=>u().Observable.of((0,N.Mc)()))),rt=(e,t)=>e.ofType(z._T).filter((()=>(0,X.M7)(t.getState()))).mapTo((0,j.hB)()),at=(e,t)=>e.ofType(z._T).filter((()=>!(0,X.M7)(t.getState()))).switchMap((()=>u().Observable.from([ue(t.getState()),{type:j.Hg}]))),ot=(e,t)=>e.ofType(j.sF).filter((()=>(0,X.M7)(t.getState()))).switchMap((()=>u().Observable.of((0,z.XO)()))),nt=(e,t)=>e.ofType(z.Yx,z.VN).filter((e=>{const{disableQuickFilterSync:r}=t.getState().featuregrid;return e.type===z.Yx||!r})).switchMap((()=>{const{query:r,featuregrid:a}=t.getState(),o=(a||{}).selectedLayer,n=(r||{}).filterObj;return u().Observable.merge(u().Observable.of((0,X.M7)(t.getState())).filter((e=>e)),e.ofType(j.Yd)).mergeMap((()=>u().Observable.of(((e,t)=>(0,B.He)(e,{filterObj:t}))(o,n))))})),it=(e,t)=>{let{getState:r}=t;return e.ofType(j.ye).filter((()=>!(0,X.gy)(r()))).switchMap((t=>{const a=r(),{startPage:o,endPage:n}=t.pages,{pages:i,pagination:l}=a.featuregrid,s=d()(l,"size"),p=(0,x.gP)(o,n,i,s),f=p[1]-p[0]+1;return u().Observable.of((0,z.IO)((0,X.Bu)(a),ie({...(0,X.X1)(a)},{startIndex:p[0]*s,maxFeatures:f*s}),(0,W.TC)(a))).filter((()=>p.length>0)).merge(e.ofType(z.Hu).filter((()=>p.length>0)).map((function(){let{result:e={},filterObj:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{features:a,maxStoredPages:l}=r().featuregrid,u=d()(t,"pagination.startIndex"),{pages:p,features:f}=(0,x.f1)(e,{endPage:n,startPage:o},{pages:i,features:a||[]},{size:s,startIndex:u,maxStoredPages:l});return(0,j.UB)(f,p)})).take(1).takeUntil(e.ofType(z.VT))).merge(e.ofType(z.yz).filter((()=>p.length>0)).filter((e=>!e.isLoading)).withLatestFrom(e.ofType(j.ye)).map((e=>e[1])).take(1).takeUntil(e.ofType(z.VT)))}))},lt=function(e){let{getState:t=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(B.Zz).filter((e=>{let{layer:r=[],params:a={}}=e;return O()(w()(r),(0,W.u$)(t()))&&O()(Object.keys(a),"time")&&(0,W.DK)(t())})).merge(e.ofType(j.d)).filter((()=>(0,W.Rd)(t()))).withLatestFrom(e.ofType(z.Qq),((e,t)=>t)).switchMap((e=>u().Observable.of((0,z.rP)(e.searchUrl,e.filterObj))))},st=function(e){let{getState:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(Y.kM).filter((function(){let{control:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"drawer"===e&&t().browser&&t().browser.mobile&&(0,q.BP)(t())})).switchMap((()=>u().Observable.of((0,N.aN)(),(0,j.t9)())))},ut=function(e){let{getState:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(N.xy).filter((()=>t().browser&&t().browser.mobile&&(0,q.BP)(t()))).mapTo((0,Y.Xi)("drawer","enabled"))},pt=function(e){let{getState:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(j.$).switchMap((()=>{var e;const r=null===(e=(0,W.Li)(t()))||void 0===e?void 0:e.id;return u().Observable.of((0,_.k4)(r))}))},dt=function(e){let{getState:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(j.sF).switchMap((()=>{const e=[(0,_.k4)(!1)];return(0,J.jP)(t())&&e.push((0,_.oJ)()),u().Observable.from(e)}))},ft=function(e){let{getState:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.ofType(j.aO).filter((e=>"VIEW"===e.mode)).switchMap((()=>{const e=[];return(0,J.jP)(t())&&e.push((0,_.oJ)()),u().Observable.from(e)}))};var ct=r(545578),gt=r.n(ct),yt=r(701469),bt=r.n(yt),mt=r(455877),vt=r.n(mt),wt=r(272124);const ht={advancedFilters:{},filters:{},editingAllowedRoles:["ADMIN"],enableColumnFilters:!0,showFilteredObject:!1,timeSync:!1,showTimeSync:!1,open:!1,canEdit:!1,focusOnEdit:!1,showAgain:!1,showPopoverSync:null===(0,wt.ac)().getItem("showPopoverSync")||"true"===(0,wt.ac)().getItem("showPopoverSync"),mode:j.EH.VIEW,changes:[],pagination:{page:0,size:20},select:[],drawing:!1,newFeatures:[],features:[],dockSize:.35,customEditorsOptions:{rules:[]}},Ot=(e,t)=>t===e||void 0!==e.id&&null!==e.id&&e.id===t.id,Tt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.filter((t=>Ot(e,t))).length>0},St=(e,t,r,a)=>e.map((e=>Tt(e,t)?((e,t,r)=>r?{...e,properties:{...e.properties,...t},geometry:r.geometry}:{...e,properties:{...e.properties,...t}})(e,r,a):e));var Ft=r(297977);const Mt=(0,n.connect)((0,i.P1)([e=>{var t;return null==e||null===(t=e.featuregrid)||void 0===t?void 0:t.open}],(e=>({open:e}))))((0,Ft.Z)((e=>!!e.open))((0,o.lazy)((()=>Promise.all([r.e(3370),r.e(8226),r.e(7244)]).then(r.bind(r,651641)))))),Et=(0,l.rx)("FeatureEditor",{component:Mt,epics:a,reducers:{featuregrid:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.Xp:return I()({},e,{showPopoverSync:null===(0,wt.ac)().getItem("showPopoverSync")||"true"===(0,wt.ac)().getItem("showPopoverSync"),editingAllowedRoles:t.options.editingAllowedRoles||e.editingAllowedRoles||["ADMIN"],virtualScroll:!!t.options.virtualScroll,maxStoredPages:t.options.maxStoredPages||5});case j.ye:case j.gG:return I()({},e,{pagination:{page:void 0!==t.page?t.page:e.pagination.page,size:void 0!==t.size?t.size:e.pagination.size}});case j.fT:return{...e,pagination:{...e.pagination??{},size:t.size}};case j.Oj:{const r=t.features.filter((e=>"empty_row"!==e.id));return e.multiselect&&t.append?I()({},e,{select:t.append?gt()([...e.select,...r],"id"):r}):r&&e.select&&e.select[0]&&r[0]&&1===e.select.length&&Ot(r[0],e.select[0])?e:I()({},e,{select:r||[]})}case j.v6:let r=e.select.filter((e=>!Tt(e,t.features))),a=t.features.filter((t=>!Tt(t,e.select))),o=r.concat(a||[]);return I()({},e,{select:o});case j.jp:return I()({},e,{select:e.select.filter((e=>!Tt(e,t.features)))});case j.DU:return I()({},e,{multiselect:t.multiselect??e.multiselect,showCheckbox:t.showCheckbox??e.showCheckbox});case j.r:return I()({},e,{customEditorsOptions:t.payload});case j.gJ:return I()({},e,t.options||{});case j.CM:return I()({},e,{select:[],changes:[]});case j.iQ:return I()({},e,{features:t.features});case j.dZ:return I()({},e,{dockSize:t.dockSize});case j.$:return I()({},e,{selectedLayer:t.id});case j.qw:return I()({},e,{tools:{...e.tools,[t.tool]:void 0===t.value?!(e.tools&&e.tools[t.tool]):t.value}});case j.f$:return I()({},e,{attributes:{...e.attributes,[t.name]:{...e.attributes&&e.attributes[t.name]||{},[t.key]:t.value||e.attributes&&e.attributes[t.name]&&!e.attributes[t.name][t.key]}}});case j.aO:return I()({},e,{showPopoverSync:null!==(0,wt.ac)().getItem("showPopoverSync")?"true"===(0,wt.ac)().getItem("showPopoverSync"):t.mode!==j.EH.EDIT,tools:t.mode===j.EH.EDIT?{}:e.tools,mode:t.mode,multiselect:t.mode===j.EH.EDIT,drawing:!1});case j.K8:{const r=t.features.filter((e=>e._new))||[];return I()({},e,{newFeatures:r.length>0?St(e.newFeatures,r,t.updated,null):e.newFeatures,changes:[...e&&e.changes||[],...t.features.filter((e=>!e._new)).map((e=>({id:e.id,updated:t.updated})))]})}case j.AH:return I()({},e,{saving:!0,loading:!0});case j.AY:return I()({},e,{deleteConfirm:!1,saved:!0,saving:!1,drawing:!1,loading:!1});case j.yi:return I()({},e,{saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case j.IN:{let r=vt().v1();return I()({},e,{newFeatures:t.features.map((e=>({...e,_new:!0,id:e.id?e.id:r,type:"Feature",geometry:e.geometry?e.geometry:null}))),select:t.features.map((e=>({...e,_new:!0,id:e.id?e.id:r,type:"Feature",geometry:e.geometry?e.geometry:null})))})}case j.SW:return I()({},e,{deleteConfirm:!1,saving:!1,loading:!1,drawing:!1});case j.DI:{const r=t.features.filter((e=>e._new))||[];return I()({},e,{newFeatures:r.length>0?St(e.newFeatures,r,null,{geometry:{...c()(r).geometry}}):e.newFeatures,changes:t.features.filter((e=>!e._new)).map(((e,r)=>({id:e.id,updated:{geometry:t.features[r].geometry}}))),drawing:!1})}case j.oh:{const r=t.features.filter((e=>e._new))||[];return I()({},e,{newFeatures:r.length>0?St(e.newFeatures,r,null,{geometry:null}):e.newFeatures,changes:[...e&&e.changes||[],...t.features.filter((e=>!e._new)).map((e=>({id:e.id,updated:{geometry:null}})))]})}case z.u7:return I()({},e,{localType:d()(t,"featureType.original.featureTypes[0].properties[1].localType")});case j._9:return I()({},e,{drawing:!e.drawing});case j.$O:return I()({},e,{open:!0});case j.sF:return I()({},e,{open:!1,pagination:{page:0,size:e.pagination.size},mode:j.EH.VIEW,tools:{},saved:!1,deleteConfirm:!1,drawing:!1,newFeatures:[],changes:[]});case j.MK:return I()({},e,{disableToolbar:t.disabled});case j.ut:return I()({},e,{canEdit:t.permission.canEdit});case _.hZ:return"clean"===t.status?I()({},e,{drawing:!1}):e;case j._u:{const{attribute:r}=t.update||{};if(r&&t.append){const a=e.filters[r].value;let o=[];null!=a&&a.attribute&&(o=[a]),bt()(a)&&(o=a);const n=[...o,t.update.value];return I()({},e,{filters:{[r]:{attribute:r,enabled:!0,type:"geometry",operator:"OR",value:n}}})}return r?I()({},e,{filters:{...e.filters,[r]:t.update}}):e}case z.Yx:return I()({},e,{filters:{}});case z.VN:return{...e,useLayerFilter:t.useLayerFilter??e.useLayerFilter};case j.DA:{const r=t.dockProps&&t.dockProps.maxDockSize,a=t.dockProps&&t.dockProps.minDockSize,o=r&&a&&a<=t.size&&r>=t.size&&t.size||r&&r<t.size&&r||a&&a>t.size&&a||t.size;return I()({},e,{dockSize:o})}case j.Lz:return I()({},e,{advancedFilters:I()({},e.advancedFilters,{[e.selectedLayer]:t.filterObj})});case j.Jb:return I()({},e,{features:t.features||[],pages:t.pages||[]});case j.yA:return I()({},e,{showPopoverSync:!1});case j.sK:return I()({},e,{showAgain:!e.showAgain});case j.d:return I()({},e,{timeSync:t.value});default:return e}}},containers:{TOC:{doNotHide:!0,name:"FeatureEditor"}}})},308602:(e,t,r)=>{"use strict";r.d(t,{lM:()=>f,jP:()=>c,Qp:()=>g,l:()=>y,$N:()=>b});var a=r(227361),o=r.n(a),n=r(513218),i=r.n(n),l=r(612912),s=r(820709),u=r(904160),p=r(399790),d=r(707366);const f=e=>{var t;return!(null==e||null===(t=e.draw)||void 0===t||!t.snappingLayer)&&((0,l.CA)(e,e.draw.snappingLayer)??(0,l.iv)(e,e.draw.snappingLayer))},c=e=>o()(e,"draw.snapping",!1),g=e=>o()(e,"draw.snappingIsLoading",!1),y=e=>o()(e,"draw.snapConfig",!1),b=(0,u.o)(((e,t)=>e===t||i()(e)&&i()(t)&&(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.title)===(null==t?void 0:t.title)))([l.l2,l.KL,s.Li,f,y,d.Pz],(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0;const i=null==a?void 0:a.id,l=null==r?void 0:r.id,s=t.filter((e=>((null==o?void 0:o.additionalLayers)??[]).includes(e.id))).map((e=>e.options)),u=s.concat(e),d=l?[{value:l,label:(0,p.in)(r,n),active:l===i}]:[];return d.concat(u.map((e=>{var t;return!(e.id===l||!["wms","wfs","vector"].includes(null==e?void 0:e.type)||"wms"===(null==e?void 0:e.type)&&"wfs"!==(null==e||null===(t=e.search)||void 0===t?void 0:t.type)||"background"===e.group||!e.visibility)&&{value:e.id,label:(0,p.in)(e,n),active:e.id===i}})).filter(Boolean))}))},127608:(e,t,r)=>{"use strict";r.d(t,{qh:()=>u,GK:()=>p,Nl:()=>d,vE:()=>f,gC:()=>c,hI:()=>g,Vc:()=>y,BU:()=>b,Vx:()=>m,a8:()=>v,IM:()=>w,G$:()=>h});var a=r(227361),o=r.n(a),n=r(22222),i=r(612912),l=r(707366),s=r(719648);const u=e=>o()(e,"queryform.crossLayerFilter"),p=e=>((0,i.l2)(e)||[]).filter((function(){let{type:e,group:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"wms"===e&&"background"!==t})).map((t=>{let{title:r,...a}=t;return{...a,title:(0,s.MZ)((0,l.Pz)(e),r)}})),d=e=>o()(e,"queryform.spatialField.geometry"),f=e=>o()(e,"queryform.spatialField"),c=(0,n.P1)((e=>o()(e,"queryform.attributePanelExpanded")),(e=>o()(e,"queryform.spatialPanelExpanded")),(e=>o()(e,"queryform.crossLayerExpanded")),((e,t,r)=>({attributePanelExpanded:e,spatialPanelExpanded:t,crossLayerExpanded:r}))),g=e=>o()(e,"layerFilter.persisted"),y=e=>o()(e,"layerFilter.applied"),b=e=>o()(e,"queryform.spatialField.method"),m=e=>o()(e,"queryform.maxFeaturesWPS"),v=e=>d(e)&&d(e).type||"Polygon",w=e=>d(e)&&d(e).projection||"EPSG =4326",h=e=>d(e)&&d(e).coordinates||[]},502422:(e,t,r)=>{"use strict";r.d(t,{U:()=>d});var a=r(687753),o=r(49977),n=r.n(o),i=r(119008),l=r(172768),s=r(296252),u=r(859518),p=r(306692);const d=function(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(e,t)=>n().Observable.from([(0,a.Xg)(t,"enabled",null)]),d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(e,t)=>(0,i.Yq)(t)(e);return e.ofType(l.Np,s.hZ,u.YD,p.$O).filter((e=>{let{type:a,status:o,owner:n,eventName:i,toolName:f}=e;const c=d(t.getState(),r);switch(a){case p.$O:return"featureGrid"!==r;case u.YD:return c&&"click"===i&&f!==r;case s.hZ:return c&&("drawOrEdit"===o||"start"===o)&&n!==r;case l.Np:default:return c&&"annotations"!==r}})).switchMap((e=>d(t.getState(),r)?o(t.getState(),r,e):n().Observable.empty()))}},116375:(e,t,r)=>{const{filter:a,fidFilter:o}=r(436916);e.exports={fidFilter:o,filter:a}},901798:(e,t,r)=>{const a=r(227361),{insert:o,feature:n,attribute:i}=r(722964),{transaction:l}=r(343083),{deleteFeaturesByFilter:s,deleteFeature:u}=r(142641),{update:p,propertyChange:d}=r(155658),{getPropertyDesciptor:f,getValue:c,findGeometryProperty:g,featureTypeSchema:y}=r(452341),b=r(388826),m=(e,t)=>t&&t.length>0?[e,...t]:e,v=function(e){this.version=e},w=e=>a(e,"featureTypes[0].typeName"),h=e=>e.targetPrefix?`${e.targetPrefix}:${w(e)}`:w(e),O=(e,t)=>e.geometry_name||g(t).name,T=(e,t)=>"geometry"===e||e===O({},t)?O({},t):e;e.exports=function(e){let{wfsVersion:t="1.1.0",wfsNS:r="wfs",...a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("1.1.0"!==t)throw new v(t);const g=t=>n(e.targetPrefix,w(e),Object.keys(t.properties||[]).filter((t=>f(t,e))).map((r=>i(e.targetPrefix,r,c(t.properties[r],r,e)))).concat(t.geometry?i(e.targetPrefix,O(t,e),c(t.geometry,O(t,e),e)):[])),S=e=>e.features?e.features.map(g):g(e);return{...b({...a,wfsVersion:t,wfsNS:r}),insert:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return o(r,Array.isArray(m(e,a))?m(e,a).map(S):S(e))},getPropertyName:t=>T(t,e),deleteByFilter:t=>s(r,t,h(e)),deleteFeature:t=>u(r,t,h(e)),update:function(t){for(var a=arguments.length,o=new Array(a>1?a-1:0),n=1;n<a;n++)o[n-1]=arguments[n];return p(r,h(e),m(t,o))},propertyChange:(t,a)=>d(r,t,c(a,t,e)),transaction:function(a){for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return l(m(a,n),y(e),t,r)}}}},142641:(e,t,r)=>{const{fidFilter:a}=r(116375),o=(e,t,r)=>`<${e}:Delete typeName="${r}">${t}</${e}:Delete>`,n=(e,t,r)=>o(e,a("ogc",t),r);e.exports={deleteFeaturesByFilter:o,deleteById:n,deleteFeature:(e,t,r)=>n(e,t.features&&1===t.features.length?t.features[0].id:t.id,r)}},722964:e=>{const t=(e,t,r)=>`<${e?e+":"+t:t}>${Array.isArray(r)?r.join(""):r}</${e?e+":"+t:t}>`,r=t,a=t;e.exports={insert:(e,t)=>`<${e}:Insert>${Array.isArray(t)?t.join(""):t}</${e}:Insert>`,feature:a,attribute:r}},343083:e=>{e.exports={transaction:function(e,t){let{wfsNS:r="wfs",wfsVersion:a="1.1.0"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return`<${r}:Transaction service="WFS" version="${a}" xmlns:${r}="http://www.opengis.net/wfs" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs" ${t}>${Array.isArray(e)?e.join(""):e}</${r}:Transaction>`}}},155658:e=>{e.exports={update:(e,t,r)=>`<${e}:Update typeName="${t}">${Array.isArray(r)?r.join(""):r}</wfs:Update>`,propertyChange:(e,t,r)=>`<${e}:Property><${e}:Name>${t}</${e}:Name><${e}:Value>${r}</${e}:Value></${e}:Property>`}}}]);