(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[309],{588949:(e,n,t)=>{"use strict";t.d(n,{p5:()=>o,aW:()=>a,kn:()=>r,br:()=>s,aE:()=>l,vm:()=>i,H4:()=>d,_p:()=>u,_H:()=>c,j7:()=>m,wg:()=>p,qQ:()=>y,K4:()=>g,_W:()=>h,Jd:()=>f,wD:()=>b,bM:()=>v,yW:()=>w});const o="IMPORT::SET_LAYERS",a="IMPORT::ON_ERROR",r="IMPORT::ON_SELECT_LAYER",s="IMPORT::LOADING",l="IMPORT::ON_LAYER_ADDED",i="IMPORT::UPDATE_BBOX",d="IMPORT::ON_SUCCESS",u="ON_SHAPE_ERROR",c="IMPORT::ON_LAYER_SKIPPED";function m(e,n){return{type:o,layers:e,errors:n}}function p(e){return{type:r,layer:e}}function y(e){return{type:a,error:e}}function g(e){return{type:s,status:e}}function h(e){return{type:l,layer:e}}function f(e){return{type:i,bbox:e}}function b(e){return{type:d,message:e}}function v(e){return{type:u,message:e}}function w(e){return{type:c,layer:e}}},404462:(e,n,t)=>{"use strict";t.d(n,{H:()=>o,q:()=>a});const o="SET_STYLE_PARAMETER";function a(e,n){return{type:o,name:e,value:n}}},58783:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>b});var o=t(124852),a=t.n(o),r=t(171703),s=t(488400),l=t(588949),i=t(504518),d=t(859518),u=t(333101),c=t(172768),m=t(30206),p=t(687753),y=t(727418),g=t.n(y),h=t(630294),f=t(101092);const b={MapImportPlugin:g()({loadPlugin:e=>{Promise.all([t.e(9886),t.e(4904)]).then(t.bind(t,924904)).then((n=>{const t=n.default,o=(0,r.connect)((e=>({enabled:e.controls&&e.controls.mapimport&&e.controls.mapimport.enabled,layers:e.mapimport&&e.mapimport.layers||null,selected:e.mapimport&&e.mapimport.selected||null,bbox:e.mapimport&&e.mapimport.bbox||null,success:e.mapimport&&e.mapimport.success||null,errors:e.mapimport&&e.mapimport.errors||null,shapeStyle:e.style||{},mapType:(0,f.$v)(e),annotationsLayer:(0,m.sB)(e)})),{setLayers:l.j7,onLayerAdded:l._W,onLayerSkipped:l.yW,onSelectLayer:l.wg,onError:l.qQ,onSuccess:l.wD,addLayer:u.A4,loadAnnotations:c.wP,onZoomSelected:d.Px,updateBBox:l.Jd,setLoading:l.K4,onClose:p.Xi.bind(null,"mapimport",null),warning:i.Kp})(t);e(o)}))},enabler:e=>e.mapimport&&e.mapimport.enabled||e.toolbar&&"import"===e.toolbar.active},{BurgerMenu:{name:"import",position:4,text:a().createElement(s.Z,{msgId:"mapImport.title"}),tooltip:"mapImport.tooltip",icon:a().createElement(h.Glyphicon,{glyph:"upload"}),action:p.Xi.bind(null,"mapimport",null),priority:2,doNotHide:!0},SidebarMenu:{name:"mapimport",position:4,tooltip:"mapImport.tooltip",text:a().createElement(s.Z,{msgId:"mapImport.title"}),icon:a().createElement(h.Glyphicon,{glyph:"upload"}),action:p.Xi.bind(null,"mapimport",null),toggle:!0,priority:1,doNotHide:!0}}),reducers:{mapimport:t(158671).Z,style:t(187784).Z}}},488400:(e,n,t)=>{"use strict";t.d(n,{Z:()=>r});var o=t(171703),a=t(804504);const r=(0,o.connect)((e=>({locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]})))(a.Z)},158671:(e,n,t)=>{"use strict";t.d(n,{Z:()=>u});var o=t(588949),a=t(187185),r=t.n(a),s=t(687753),l=t(727418),i=t.n(l);const d={layers:null,errors:null,loading:!1,selected:null,bbox:[190,190,-190,-190]},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case o._p:return i()({},e,{error:n.message,success:null});case o.p5:{let t=n.layers&&n.layers[0]?n.layers[0]:null;const o=n.layers?n.errors:null;return i()({},e,{layers:n.layers,selected:t,bbox:[190,190,-190,-190],errors:o},t?{}:{success:null})}case o.aW:return i()({},e,{errors:r()([...e.errors||[],n.error],((e,n)=>(e.name&&e.name===n.name||e.filename&&e.filename===n.fileName)&&e.message===n.message)),success:null});case o.br:return i()({},e,{loading:n.status});case o.kn:return i()({},e,{selected:n.layer});case o.aE:{let t=e.layers.filter((e=>n.layer.name!==e.name),this),o=t&&t[0]?t[0]:null;return i()({},e,{layers:t,selected:o},o?{}:{bbox:[190,190,-190,-190]})}case o.vm:return i()({},e,{bbox:n.bbox});case o.H4:return i()({},e,{success:n.message,errors:null,error:null});case s.kM:return"shapefile"===n.control?i()({},e,{errors:null,success:null}):e;case o._H:{const t=e.layers.filter((e=>n.layer.name!==e.name),this),o=t&&t[0]?t[0]:null;return i()({},e,{layers:t,selected:o,success:null})}default:return e}}},187784:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var o=t(404462),a=t(727418),r=t.n(a);const s={color:{r:0,g:0,b:255,a:1},width:3,fill:{r:0,g:0,b:255,a:.1},radius:10,marker:!1},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,n=arguments.length>1?arguments[1]:void 0;return n.type===o.H?r()({},e,{[n.name]:n.value}):e}},30206:(e,n,t)=>{"use strict";t.d(n,{sB:()=>g,_o:()=>h,cM:()=>O,Cq:()=>W,cQ:()=>q,dm:()=>K});var o=t(22222),a=t(612912),r=t(274363),s=t(101092),l=t(975872),i=t(91175),d=t.n(i),u=t(227361),c=t.n(u),m=t(727418),p=t.n(m),y=t(234228);const g=(0,o.P1)([a.l2],(e=>d()(e.filter((e=>"annotations"===e.id))))),h=e=>c()(e,"annotations.config.multiGeometry",!1),f=e=>c()(e,"annotations.removing"),b=e=>c()(e,"annotations.format"),v=e=>c()(e,"annotations.aeronauticalOptions"),w=e=>c()(e,"annotations.showUnsavedChangesModal",!1),E=e=>c()(e,"annotations.showUnsavedStyleModal",!1),M=e=>c()(e,"annotations.showUnsavedGeometryModal",!1),P=e=>c()(e,"annotations.showDeleteFeatureModal",!1),S=e=>!!c()(e,"annotations.closing"),O=e=>c()(e,"annotations.editing"),T=e=>c()(e,"annotations.editGeometry",!0),_=e=>c()(e,"annotations.featureType"),R=e=>c()(e,"annotations.coordinateEditorEnabled"),I=e=>!!c()(e,"annotations.drawing"),L=e=>c()(e,"annotations.stylerType"),A=e=>c()(e,"annotations.drawingText"),x=e=>c()(e,"annotations.editedFields",{}),C=e=>!!c()(e,"annotations.styling"),U=e=>c()(e,"annotations.selected",null),D=e=>c()(e,"annotations.unsavedChanges",!1),G=e=>c()(e,"annotations.unsavedGeometry",!1),H=e=>c()(e,"annotations.unsavedStyle",!1),N=e=>c()(e,"annotations.validationErrors",{}),k=e=>c()(e,"annotations.config",{}),Z=e=>c()(e,"annotations.symbolList",[]),W=e=>c()(e,"annotations.symbolErrors",[]),B=e=>(O(e)?"editing":g(e)&&(e=>c()(e,"annotations.current"))(e)&&"detail")||"list",F=e=>c()(e,"annotations.showAgain",!1),Y=e=>c()(e,"annotations.showPopupWarning",!0),q=e=>p()({},{symbolErrors:W(e),showEdit:(0,s.m6)(e),canEdit:T(e),mouseHoverEvents:(0,l.Qp)(e),closing:S(e),format:b(e)||(0,y.u8)("defaultCoordinateFormat"),aeronauticalOptions:v(e),config:k(e),drawing:I(e),drawingText:A(e),errors:N(e),editing:O(e),coordinateEditorEnabled:R(e),editedFields:x(e),mode:B(e),selected:U(e),featureType:_(e),removing:f(e),mapProjection:(0,r.uy)(e),showUnsavedChangesModal:w(e),showDeleteFeatureModal:P(e),showUnsavedGeometryModal:M(e),showUnsavedStyleModal:E(e),stylerType:L(e),styling:C(e),unsavedChanges:D(e),unsavedGeometry:G(e),unsavedStyle:H(e),symbolList:Z(e),showAgain:F(e),showPopupWarning:Y(e)}),K=(0,o.P1)([q,e=>({...e.annotations||{}}),g,B],((e,n,t,o)=>p()({},{format:n.format,aeronauticalOptions:n.aeronauticalOptions,removing:n.removing,showUnsavedChangesModal:n.showUnsavedChangesModal,showUnsavedGeometryModal:n.showUnsavedGeometryModal,showUnsavedStyleModal:n.showUnsavedStyleModal,showDeleteFeatureModal:n.showDeleteFeatureModal,closing:!!n.closing,mode:o,annotations:t&&t.features||[],current:n.current||null,editing:e.editing,selected:e.selected,filter:n.filter||"",defaultStyles:n.defaultStyles,loading:n.loading},e.config?{config:e.config}:{})));(0,o.P1)([K],(e=>{const n=e.current;return{annotation:d()(e.annotations.filter((e=>e.properties.id===n)))}}))}}]);