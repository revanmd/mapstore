(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[9073],{956611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var s=n(747037),o=n.n(s),r=n(45697),l=n.n(r),a=n(124852),i=n.n(a),p=n(630294),c=n(719648);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i().Component{constructor(){super(...arguments),m(this,"onMouseOver",(()=>{const e=o()(this.props.helpText)?this.props.helpText:(0,c.S$)(this.context.messages,this.props.helpText.props.msgId);this.props.changeHelpText(e),this.props.changeHelpwinVisibility(!0)}))}render(){return i().createElement(p.Badge,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}m(h,"propTypes",{id:l().string,helpText:l().oneOfType([l().string,l().element]),isVisible:l().bool,changeHelpText:l().func,changeHelpwinVisibility:l().func,className:l().string}),m(h,"contextTypes",{messages:l().object}),m(h,"defaultProps",{helpText:"",isVisible:!1});const d=h},730996:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var s=n(124852),o=n.n(s),r=n(45697),l=n.n(r),a=n(893379),i=n.n(a),p=n(887297);i()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;var c=n(638510),m=n(152543);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends o().Component{constructor(){super(...arguments),h(this,"getPanels",(()=>this.props.items.filter((e=>e.tools)).reduce(((e,t)=>e.concat(t.tools.map(((e,n)=>{var s,o;return{name:t.name+n,panel:e,cfg:(null==t||null===(s=t.cfg)||void 0===s||null===(o=s.toolsCfg)||void 0===o?void 0:o[n])||{}}})))),[]))),h(this,"getTools",(()=>this.props.items.sort(((e,t)=>e.position-t.position))))}render(){return o().createElement(c.Z,{id:this.props.id,style:this.props.style,containerWrapperStyle:this.props.containerWrapperStyle,className:this.props.className,mapType:this.props.mapType,container:e=>o().createElement("div",e,e.children),toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:e=>o().createElement("div",null,e.children),tools:this.getTools(),panels:this.getPanels()})}}h(d,"propTypes",{className:l().string,style:l().object,containerWrapperStyle:l().object,items:l().array,id:l().string,mapType:l().string}),h(d,"defaultProps",{items:[],className:"navbar-dx shadow",style:{},containerWrapperStyle:{},id:"mapstore-navbar",mapType:"leaflet"});const g=(0,m.rx)("OmniBar",{component:d,options:{disablePluginIf:"{state('featuregridmode') === 'EDIT' || (state('router') && state('router').includes('/geostory/shared') && state('geostorymode') !== 'edit')}"}})},638510:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var s=n(353131),o=n.n(s),r=n(727418),l=n.n(r),a=n(45697),i=n.n(a),p=n(124852),c=n.n(p),m=n(630294),h=n(171703),d=n(12838),g=n(687753),u=n(723813),y=n(956611),b=n(804504),f=n(401811),v=n(23888);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},T.apply(this,arguments)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=(0,h.connect)((e=>({isVisible:e.controls&&e.controls.help&&e.controls.help.enabled})),{changeHelpText:u.n2,changeHelpwinVisibility:u.SA})(y.Z);class C extends c().Component{constructor(){super(...arguments),x(this,"getToolConfig",(e=>e.tool?{}:this.props.toolCfg)),x(this,"getTool",(e=>{if(e.tool)return!0===e.tool?e.plugin:e.tool;let t=()=>({});const n={};return e.exclusive?(t=t=>({active:t.controls&&t.controls[this.props.stateSelector]&&t.controls[this.props.stateSelector].active===e.name}),n[this.props.eventSelector]=g.Xg.bind(null,this.props.stateSelector,"active",e.name,!0)):e.toggle?(t=t=>({bsStyle:t.controls[e.toggleControl||e.name]&&t.controls[e.toggleControl||e.name][e.toggleProperty||"enabled"]?this.props.activeStyle:this.props.toolStyle,active:t.controls[e.toggleControl||e.name]&&t.controls[e.toggleControl||e.name][e.toggleProperty||"enabled"]||!1}),n[this.props.eventSelector]=g.Xi.bind(null,e.toggleControl||e.name,e.toggleProperty||null)):e.action&&(n[this.props.eventSelector]=o()(e.action,this.context),t=e.selector||t),(0,h.connect)(t,n,((e,t,n)=>this.mergeHandlers({...n,...e},t)))(this.props.tool)})),x(this,"renderTool",((e,t)=>{if(e.element)return e.element;const n=e.help?c().createElement(S,{className:"mapstore-helpbadge",helpText:e.help}):c().createElement("span",null),s=e.tooltip?c().createElement(b.Z,{msgId:e.tooltip}):null,o=this.getTool(e),r=this.getToolConfig(e),l=e.childTools||[];return this.addTooltip(c().createElement(o,T({},r,{pluginCfg:e.cfg,tooltip:s,style:e.style,btnSize:this.props.toolSize,bsStyle:this.props.toolStyle,help:n,key:e.name||"tool"+t,mapType:this.props.mapType},e.cfg,{items:e.items||[]}),e.cfg&&e.cfg.glyph?c().createElement(m.Glyphicon,{glyph:e.cfg.glyph}):e.icon,n," ",e.text,l.length>0&&c().createElement(C,T({},e.innerProps,{mapType:this.props.mapType,tools:l,panels:e.childPanels}))),e)})),x(this,"renderTools",(()=>this.props.tools.map(this.renderTool))),x(this,"renderPanels",(()=>this.props.panels.filter((e=>!e.panel.loadPlugin)).map((e=>{const t=e.panel,n=c().createElement(t,T({key:e.name,mapType:this.props.mapType},e.cfg,e.props||{},{items:e.items||[]})),s=e.title?c().createElement(b.Z,{msgId:e.title}):null;return e.wrap?c().createElement(m.Collapse,{key:"mapToolBar-item-collapse-"+e.name,in:this.props.activePanel===e.name},c().createElement(m.Panel,{header:s,style:this.props.panelStyle,className:this.props.panelClassName},n)):n})))),x(this,"mergeHandlers",((e,t)=>Object.keys(t).reduce(((n,s)=>l()(n,{[s]:e[s]?(0,d.qC)(e[s],t[s]):t[s]})),e))),x(this,"addTooltip",((e,t)=>{if(t.tooltip){let n=c().createElement(m.Tooltip,{id:this.props.id+"-"+t.name+"-tooltip"},c().createElement(b.Z,{msgId:t.tooltip}));return c().createElement(f.Z,{key:this.props.id+"-"+t.name+"-overlay",rootClose:!0,placement:"left",overlay:n},e)}return e}))}render(){const e=this.props.container;return c().createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},c().createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}x(C,"propTypes",{id:i().string.isRequired,container:i().func,containerWrapperStyle:i().object,tool:i().oneOfType([i().object,i().func]),className:i().string,style:i().object,tools:i().array,panels:i().array,mapType:i().string,toolStyle:i().string,activeStyle:i().string,toolSize:i().string,stateSelector:i().string.isRequired,eventSelector:i().string,panelStyle:i().object,panelClassName:i().string,activePanel:i().string,toolCfg:i().object}),x(C,"contextTypes",{messages:i().object,router:i().object}),x(C,"defaultProps",{container:m.Panel,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:v.Z,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}});const P=C},887297:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(923645),o=n.n(s)()((function(e){return e[1]}));o.push([e.id,"/*viewer navbar */\n.ms2 .navbar-dx {\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.ms2 .navbar-dx>ul {\n    padding: 0;\n}\n\n.ms2 .navbar-dx>ul>li {\n    float: left;\n    list-style: none;\n}\n\n.ms2 .navbar-dx .search-wrap .MapSearchBar {\n    right: 0;\n    top: 0;\n    left: 0;\n}\n\n.ms2 .navbar-dx .search-wrap .form-control,\n.ms2 .navbar-dx .search-wrap .form-control:focus {\n    border-right: 0;\n    box-shadow: none;\n}\n\n.ms2 .navbar-dx .search-wrap .MapSearchBar .input-group-addon {\n    border: 0;\n}\n\n.ms2 .navbar-dx .search-result-list {\n    left: 0;\n    max-height: none;\n}\n\n.ms2 .navbar-dx .dropdown-menu {\n    margin: 0;\n    padding-top: 0;\n}\n\n@media (min-width: 1200px) {\n    .ms2 .navbar-dx .search-wrap {\n        width: 500px;\n        height: 50px;\n    }\n}\n\n.ms2 .navbar-dx>* {\n    display: inline-block;\n}\n\n/* Page Navbar */\n.ms2 .navbar-home .dropdown {\n    float: right;\n}\n\n.ms2 .navbar-home .navbar-header {\n    margin-top: 7px;\n    margin-left: 10px;\n    margin-right: 10px;\n    display: inline-block;\n}\n",""]);const r=o}}]);