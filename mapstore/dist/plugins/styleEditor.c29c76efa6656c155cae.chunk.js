(self.webpackChunkmapstore2=self.webpackChunkmapstore2||[]).push([[7709],{902746:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>j});var l=a(49977),s=a.n(l),r=a(227361),i=a.n(r),n=a(91175),o=a.n(n),c=a(701469),d=a.n(c),y=a(941106),u=a.n(y),m=a(545578),b=a.n(m),p=a(504518),g=a(333101),v=a(403410),f=a(16075),S=a(943650),h=a(687753),E=a(399790),O=a(546243),w=a(860294),N=a(470509),T=a.n(N),U=a(984596),I=a.n(U),$=a(644825);const M=function(e,t,a){let l=e+"layers/"+t+".json";return T().get(l,a).then((e=>e.data&&e.data.layer))},x=e=>{let{baseUrl:t,layerName:a,styles:l=[],options:s={}}=e;const{name:r,workspace:i}=(0,$.$N)(a),n=`${t}rest/${i&&`workspaces/${i}/`||""}layers/${r}.json`;return T().get(n,s).then((e=>{let{data:t}=e;const a=t.layer||{},s=a.styles&&a.styles.style&&I()(a.styles.style)||[],r=l.map((e=>{let{name:t}=e;return t})),i=s.filter((e=>{let{name:t}=e;return-1===r.indexOf(t)}));return{layer:{...a,styles:{"@class":"linked-hash-set",style:i}}}})).then((e=>T().put(n,e).then((()=>e))))},W=e=>{let{baseUrl:t,layerName:a,styles:l=[],options:s={}}=e;const{name:r,workspace:i}=(0,$.$N)(a),n=`${t}rest/${i&&`workspaces/${i}/`||""}layers/${r}.json`;return T().get(n,s).then((e=>{let{data:t}=e;const a=t.layer||{},s=a.styles&&a.styles.style&&I()(a.styles.style)||[];return{layer:{...a,styles:{"@class":"linked-hash-set",style:[...s,...l]}}}})).then((e=>T().put(n,e).then((()=>e))))},D=e=>{let{baseUrl:t,layerName:a,styleName:l,options:s={}}=e;const{name:r,workspace:i}=(0,$.$N)(a),n=`${t}rest/${i&&`workspaces/${i}/`||""}layers/${r}.json`;return T().get(n,s).then((e=>{let{data:t}=e;const a=t.layer||{},s=a.styles&&a.styles.style&&I()(a.styles.style)||[],r=a.defaultStyle||{},i=b()([r,...s],"name");return{layer:{...a,defaultStyle:{name:l},styles:{"@class":"linked-hash-set",style:i}}}})).then((e=>T().put(n,e).then((()=>e))))};var k=a(703011),C=a(612912),V=a(119008),Z=a(811408);const A=e=>{let{status:t,styleName:a,baseUrl:l}=e;return"edit"===t?s().Observable.defer((()=>w.ZP.getStyleCodeByName({baseUrl:l,styleName:a}).then((e=>(0,$.co)(e).then((t=>[e,t])).catch((()=>[e,!1])))))).switchMap((e=>{var t,a;let[l,r]=e;return s().Observable.of((0,O.FU)({languageVersion:l.languageVersion,code:l.code,templateId:"",format:l.format,init:!0}),(0,O.bB)(r?{editorType:"textarea",styleJSON:null}:{editorType:(null==l||null===(t=l.metadata)||void 0===t?void 0:t.msEditorType)||"textarea",styleJSON:null==l||null===(a=l.metadata)||void 0===a?void 0:a.msStyleJSON}))})).catch((e=>s().Observable.of((0,O.Fe)("edit",e)))):s().Observable.empty()},F=e=>{let{styleName:t,baseUrl:a,onSuccess$:l,onError$:r}=e;return s().Observable.defer((()=>w.ZP.deleteStyle({baseUrl:a,styleName:t}))).switchMap((()=>l||s().Observable.empty())).catch((()=>r||s().Observable.empty()))},L=function(e){let{baseUrl:t,update:a,code:l,format:r,styleName:i,status:n,languageVersion:o,options:c}=e,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return s().Observable.defer((()=>w.ZP[a?"updateStyle":"createStyle"]({baseUrl:t,code:l,format:r,styleName:i,languageVersion:o,options:c}))).switchMap((()=>d()(y)&&s().Observable.of((0,O.Wm)(),...y)||y)).catch((e=>s().Observable.of((0,O.Fe)(n,e),(0,O.Wm)(),...u))).startWith((0,O.pt)(n))};function P(e,t){return!t&&e.availableStyles?s().Observable.of((0,g.Xy)({availableStyles:e.availableStyles}),(0,O.Wm)()):(0,S.kB)(e).switchMap((t=>{const a=(0,E.IA)(t);return a.availableStyles?s().Observable.of((0,g.Xy)({availableStyles:a.availableStyles}),(0,g.tV)(e.id,"layer",{...a}),(0,O.Wm)()):s().Observable.of((0,O.Fe)("availableStyles",{status:401}),(0,O.Wm)())})).catch((e=>{const t=-1!==e.message.indexOf("could not be unmarshalled")?"parsingCapabilities":"global";return s().Observable.of((0,O.Fe)(t,e),(0,O.Wm)())})).startWith((0,O.pt)("global"))}function R(e){return a.e(2568).then(a.t.bind(a,402568,23)).then((t=>(0,t.default)(e)))}const j={toggleStyleEditorEpic:(e,t)=>e.ofType(O.vZ).filter((()=>!(0,k.aN)(t.getState()))).switchMap((e=>{const a=t.getState(),l=(0,C.jN)(a),r=!!i()(l,"options.availableStyles");if(!e.enabled)return(e=>{const t=(0,k.gc)(e),{baseUrl:a=""}=(0,k.Z0)(e);return s().Observable.of((0,O.l1)(),(0,v.fU)({owner:$.s1})).merge(t?F({styleName:t,baseUrl:a}):s().Observable.empty())})(a);if((0,k.ji)(a)&&r)return s().Observable.empty();const n=e.layer||(0,C.Iz)(a);if(!n||n&&!n.url)return s().Observable.empty();const o=(0,E.Nd)(n);if(!o)return P(n);const c=`${n.url.split(o)[0]}${o}`,d=(0,k.Z0)(a);return s().Observable.concat(s().Observable.of((0,O.pt)("global"),(0,O.l1)()),s().Observable.defer((()=>(0,Z.eb)({baseUrl:c,styleService:d}))).switchMap((e=>s().Observable.concat(s().Observable.of((0,O.E0)(e)),s().Observable.defer((()=>M(c+"rest/",n.name))).switchMap((e=>{var t;const a=(null==e||null===(t=e.styles)||void 0===t?void 0:t.style)||[],l=b()([e.defaultStyle,...a],"name");return 0===l.length?s().Observable.of((0,O.Fe)("availableStyles",{status:401}),(0,O.Wm)()):s().Observable.defer((()=>Promise.all([w.ZP.getStylesInfo({baseUrl:c,styles:l}),(0,S.kB)(n).toPromise().then((e=>e)).catch((()=>null))]))).switchMap((e=>{let[t,a]=e;const l=a&&(0,E.IA)(a),r=((null==l?void 0:l.availableStyles)||[]).map((e=>({...e,...(0,$.$N)(e.name)}))).filter((function(){let{name:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})),i=r.length>0?t.map((e=>{const t=(0,$.$N)(e.name),{name:a,workspace:l,...s}=r.find((e=>e.name===t.name))||{};return s?{...s,...e}:e})):t;return s().Observable.of((0,v.W)(n.id,$.s1,"override",{}),(0,g.Xy)({availableStyles:i}),(0,g.tV)(n.id,"layer",{availableStyles:i}),(0,O.Wm)())}))})).catch((()=>P(n,!0)))))))})),updateLayerOnStatusChangeEpic:(e,t)=>e.ofType(O.g$).filter((e=>{let{status:t}=e;return!!t})).switchMap((a=>{const l=t.getState(),r=(0,k.Vf)(l),i=r&&r.params||{},n=r&&!r.describeFeatureType&&(0,f.H)(r.url,r,{query:i}),o=(0,k.i7)(l)||r.availableStyles&&r.availableStyles[0]&&r.availableStyles[0].name,{baseUrl:c=""}=(0,k.Z0)(l);return n&&function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};return s().Observable.of((0,O.pt)("global"),...l).merge(e.ofType(g.K$).filter((()=>{const e=(0,C.Iz)(t.getState());return a(e)})).switchMap((()=>{const e=(0,C.Iz)(t.getState());return r(e)})).catch((e=>s().Observable.of((0,O.Fe)("global",e),(0,O.Wm)()))).takeUntil(e.ofType(O.E2)))}(e,t,(e=>e&&e.describeLayer),[n],(e=>s().Observable.concat(A({status:a.status,styleName:o,baseUrl:c}),s().Observable.of((0,O.xR)(!(e&&e.describeLayer&&401===e.describeLayer.error)),(0,O.Wm)()))))||A({status:a.status,styleName:o,baseUrl:c})})),updateTemporaryStyleEpic:(e,t)=>e.ofType(O.TB,O.DX).switchMap((e=>{const a=t.getState(),l=(0,k.gc)(a),s=(0,k.Vf)(a),{workspace:r}=(0,$.$N)(s.name),i=e.format&&e.format!==(0,k.iB)(a),n=l||`${r?`${r}:`:""}${(0,$.Vi)()}`,o=e.format||(0,k.iB)(a),c=(0,k.ex)(a),{baseUrl:d=""}=(0,k.Z0)(a),y=(0,k.j5)(a),u="sld"===o&&(e.code||"").match(/version=\"1\.1\.0\"/)&&{version:"1.1.0"}||e.format&&!e.languageVersion&&{version:"1.0.0"}||e.languageVersion||{version:"1.0.0"},m=y.version!==u.version?{params:{raw:!0}}:{},b=u,g=t=>L({update:!0,code:e.code,format:o,styleName:t,status:c,baseUrl:d,languageVersion:b,options:m},[(0,v.B1)($.s1,[{style:t,_v_:Date.now(),singleTile:!0}]),(0,O.k5)({temporaryId:t,templateId:e.templateId||"",code:e.code,format:o,init:e.init,languageVersion:b})],"edit"===c?[]:[(0,p.vU)({title:"styleeditor.updateTmpErrorTitle",message:"styleeditor.updateTmpStyleErrorMessage",uid:"updateTmpStyleError",autoDismiss:5})]),f=("css"===o?"* { stroke: #888888; }":"sld"===o&&'<?xml version="1.0" encoding="ISO-8859-1"?>\n<StyledLayerDescriptor version="1.0.0"\n\t\txsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd"\n\t\txmlns="http://www.opengis.net/sld"\n\t\txmlns:ogc="http://www.opengis.net/ogc"\n\t\txmlns:xlink="http://www.w3.org/1999/xlink"\n\t\txmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n\n\t<NamedLayer>\n\t\t<Name>Default Style</Name>\n\t\t<UserStyle>\n\t\t\t<Title>${styleTitle}</Title>\n\t\t\t<Abstract>${styleAbstract}</Abstract>\n\t\t\t<FeatureTypeStyle>\n\t\t\t\t<Rule>\n\t\t\t\t\t<Name>Rule Name</Name>\n\t\t\t\t\t<Title>Rule Title</Title>\n\t\t\t\t\t<Abstract>Rule Abstract</Abstract>\n\t\t\t\t\t<LineSymbolizer>\n\t\t\t\t\t\t<Stroke>\n\t\t\t\t\t\t\t<CssParameter name="stroke">#0000FF</CssParameter>\n\t\t\t\t\t\t</Stroke>\n\t\t\t\t\t\t</LineSymbolizer>\n\t\t\t\t\t<PointSymbolizer>\n\t\t\t\t\t\t<Graphic>\n\t\t\t\t\t\t\t<Mark>\n\t\t\t\t\t\t\t\t<WellKnownName>square</WellKnownName>\n\t\t\t\t\t\t\t\t<Fill>\n\t\t\t\t\t\t\t\t\t<CssParameter name="fill">#FF0000</CssParameter>\n\t\t\t\t\t\t\t\t</Fill>\n\t\t\t\t\t\t\t</Mark>\n\t\t\t\t\t\t</Graphic>\n\t\t\t\t\t</PointSymbolizer>\n\t\t\t\t\t</Rule>\n\t\t\t\t</FeatureTypeStyle>\n\t\t\t</UserStyle>\n\t\t</NamedLayer>\n\t</StyledLayerDescriptor>\n')||"",S=e=>L({code:f,format:o,styleName:e,status:c,baseUrl:d},g(e),[(0,p.vU)({title:"styleeditor.createTmpErrorTitle",message:"styleeditor.createTmpStyleErrorMessage",uid:"createTmpStyleError",autoDismiss:5}),(0,O.k5)({temporaryId:null,templateId:"",code:"",format:"",init:"",languageVersion:null})]);return i&&l&&F({styleName:l,baseUrl:d,onSuccess$:S(`${r?`${r}:`:""}${(0,$.Vi)()}`),onError$:g(n)})||l&&g(n)||S(n)})),createStyleEpic:(e,t)=>e.ofType(O.vA).switchMap((e=>{const a=t.getState(),l=(0,k.gB)(a),r=(0,k.Vf)(a),{workspace:i}=(0,$.$N)(r.name),n=`${i?`${i}:`:""}${(0,$.nK)(e.settings)}`,c=(0,k.iB)(a),{title:d="",_abstract:y=""}=e.settings||{},{baseUrl:m=""}=(0,k.Z0)(a),b={title:d,description:y,msStyleJSON:null,msEditorType:"visual"},f=u()(l)({styleTitle:d,styleAbstract:y});return s().Observable.defer((()=>R(f).then((e=>w.ZP.createStyle({baseUrl:m,code:f,format:c,styleName:n,metadata:{...b,msMD5Hash:e}}))))).switchMap((()=>s().Observable.of((0,v.B1)($.s1,[{}]),(0,g.Xy)({style:n||""},!0),(0,O.Nf)(""),(0,O.Wm)()).merge((e=>{let{baseUrl:t,layer:a,styleName:l,format:r,title:i,_abstract:n,metadata:c}=e;return s().Observable.defer((()=>W({baseUrl:t,layerName:a.name,styles:[{name:l}]}))).switchMap((()=>{const e={filename:`${l}.${r}`,format:r,name:l,title:i,_abstract:n,...c&&{metadata:c}},t=o()(a.availableStyles),d=a.availableStyles&&[t,e,...a.availableStyles.filter(((e,t)=>t>0))]||[e];return s().Observable.of((0,g.Xy)({availableStyles:d},!0),(0,O.Wm)())})).catch((()=>s().Observable.of((0,O.Wm)()))).startWith((0,O.pt)("global"))})({layer:r,styleName:n,format:c,title:d,_abstract:y,baseUrl:m,metadata:b})))).catch((e=>s().Observable.of((0,O.Fe)("",e),(0,O.Wm)(),(0,p.vU)({title:"styleeditor.createStyleErrorTitle",message:"styleeditor.createStyleErrorMessage",uid:"createStyleError",autoDismiss:5})))).startWith((0,O.pt)(""))})),updateStyleCodeEpic:(e,t)=>e.ofType(O.ch).switchMap((()=>{const e=t.getState(),a=(0,k.iB)(e),l=(0,k.j5)(e),r=(0,k.gB)(e),i=(0,k.i7)(e),n=(0,k.gc)(e),o=(0,k.Vf)(e),{baseUrl:c=""}=(0,k.Z0)(e),d=(0,k.WW)(e)||{},y={msStyleJSON:d.styleJSON||null,msEditorType:d.editorType},u=(o.availableStyles||[]).map((e=>e.name===i?{...e,metadata:{...e.metadata,...y}}:e));return s().Observable.defer((()=>R(r).then((e=>w.ZP.updateStyle({baseUrl:c,code:r,format:a,styleName:i,languageVersion:l,options:{params:{raw:!0}},metadata:{...y,msMD5Hash:e}}))))).switchMap((()=>s().Observable.of((0,O.Wm)(),(0,g.tV)(o.id,"layer",{_v_:Date.now(),availableStyles:u}),(0,g.Xy)({availableStyles:u}),(0,O.k5)({temporaryId:n,templateId:"",code:r,format:a,init:!0,languageVersion:l}),(0,p.Vp)({title:"styleeditor.savedStyleTitle",message:"styleeditor.savedStyleMessage",uid:"savedStyleTitle",autoDismiss:5})))).catch((e=>s().Observable.of((0,O.Fe)("global",e),(0,O.Wm)(),(0,p.vU)({title:"styleeditor.updateStyleErrorTitle",message:"styleeditor.updateStyleErrorMessage",uid:"updateStyleError",autoDismiss:5})))).startWith((0,O.pt)("global"))})),deleteStyleEpic:(e,t)=>e.ofType(O.j1).filter((e=>{let{styleName:t}=e;return!!t})).switchMap((e=>{let{styleName:a}=e;const l=t.getState(),r=(0,k.Vf)(l),{baseUrl:i=""}=(0,k.Z0)(l),n=(0,V.tL)(l),o=(0,V.Gd)(l);return s().Observable.defer((()=>x({baseUrl:i,layerName:r.name,styles:[{name:a}]}))).switchMap((()=>{const e=r.availableStyles&&r.availableStyles.filter((e=>{let{name:t}=e;return t!==a}))||[];return s().Observable.concat(s().Observable.of((0,g.Xy)({style:"",availableStyles:e},!0),(0,O.Wm)(),(0,h.Xg)("layersettings","originalSettings",{...n,style:""}),(0,h.Xg)("layersettings","initialSettings",{...o,style:""})),F({styleName:a,baseUrl:i,onSuccess$:s().Observable.of((0,p.Vp)({title:"styleeditor.deletedStyleSuccessTitle",message:"styleeditor.deletedStyleSuccessMessage",uid:"deletedStyleSuccess",autoDismiss:5})),onError$:s().Observable.of((0,p.vU)({title:"styleeditor.deletedStyleErrorTitle",message:"styleeditor.deletedStyleErrorMessage",uid:"deletedStyleError",autoDismiss:5}))}))})).catch((()=>s().Observable.of((0,O.Wm)()))).startWith((()=>s().Observable.of((0,O.pt)("global"))))})),setDefaultStyleEpic:(e,t)=>e.ofType(O.rb).switchMap((()=>{const e=t.getState(),{baseUrl:a=""}=(0,k.Z0)(e),l=(0,k.Vf)(e),r=(0,k.i7)(e);return s().Observable.defer((()=>D({baseUrl:a,layerName:l.name,styleName:r}))).switchMap((()=>{const e=[...l.availableStyles.filter((e=>{let{name:t}=e;return r===t})),...l.availableStyles.filter((e=>{let{name:t}=e;return r!==t}))];return s().Observable.of((0,g.Xy)({availableStyles:e},!0),(0,p.Vp)({title:"styleeditor.setDefaultStyleSuccessTitle",message:"styleeditor.setDefaultStyleSuccessMessage",uid:"setDefaultStyleSuccess",autoDismiss:5}),(0,O.Wm)())})).startWith((0,O.pt)("global")).catch((()=>s().Observable.of((0,p.vU)({title:"styleeditor.setDefaultStyleErrorTitle",message:"styleeditor.setDefaultStyleErrorMessage",uid:"setDefaultStyleError",autoDismiss:5}),(0,O.Wm)())))}))}},995305:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var l=a(701469),s=a.n(l),r=a(747037),i=a.n(r),n=a(727418),o=a.n(n),c=a(45697),d=a.n(c),y=a(124852),u=a.n(y),m=a(171703),b=a(867076),p=a(22222),g=a(333101),v=a(546243),f=a(867517),S=a(756435),h=a(141919),E=a(554155),O=a(89518),w=a(510644),N=a(703011),T=a(644825),U=a(756311);function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class $ extends u().Component{UNSAFE_componentWillMount(){const e=!this.props.editingAllowedRoles||s()(this.props.editingAllowedRoles)&&i()(this.props.userRole)&&-1!==this.props.editingAllowedRoles.indexOf(this.props.userRole);this.props.onInit(this.props.styleService,e&&(0,T.uW)(this.props.layer,this.props.styleService))}render(){return u().createElement(S.Z,{className:"ms-style-editor-container",header:this.props.showToolbar?u().createElement("div",{className:"ms-style-editor-container-header"},this.props.header,u().createElement("div",{className:"text-center"},u().createElement(U.lC,{enableSetDefaultStyle:this.props.enableSetDefaultStyle}))):null,footer:u().createElement("div",{style:{height:25}})},this.props.isEditing?u().createElement(U.m2,{config:this.props.editorConfig}):u().createElement(U.tM,{showDefaultStyleIcon:this.props.canEdit&&this.props.enableSetDefaultStyle}))}}I($,"propTypes",{layer:d().object,header:d().node,isEditing:d().bool,showToolbar:d().node.bool,onInit:d().func,styleService:d().object,userRole:d().string,editingAllowedRoles:d().array,enableSetDefaultStyle:d().bool,canEdit:d().bool,editorConfig:d().object}),I($,"defaultProps",{layer:{},onInit:()=>{},editingAllowedRoles:["ADMIN"],editorConfig:{}});const M=(0,b.compose)(b.toClass,(0,b.branch)((function(){let{active:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!e}),(()=>()=>null)),(0,m.connect)((0,p.P1)([N.ex,N.aN,N.Vf,N.p,w.L3,N.z_,N.Z0],((e,t,a,l,s,r,i)=>({isEditing:"edit"===e,loading:t,layer:a,error:l,userRole:s,canEdit:r,styleService:i}))),{onInit:v.E0,onUpdateParams:g.Xy},((e,t,a)=>{var l,s,r;const i=(null===(l=a.styleService)||void 0===l?void 0:l.baseUrl)===(null===(s=e.styleService)||void 0===s?void 0:s.baseUrl)&&(null===(r=e.styleService)||void 0===r?void 0:r.isStatic),n=a.styleService&&!i?{...a.styleService,isStatic:!0}:{...e.styleService};return{...a,...e,...t,styleService:n}})),(0,h.Z)((e=>{let{error:t}=e;return!!(null!=t&&t.availableStyles||null!=t&&t.global||null!=t&&t.parsingCapabilities)}),(e=>{let{error:t}=e;return{glyph:"exclamation-mark",title:u().createElement(f.Z,{msgId:"styleeditor.errorTitle"}),description:u().createElement(f.Z,{msgId:((null==t?void 0:t.availableStyles)?"styleeditor.missingAvailableStylesMessage":(null==t?void 0:t.parsingCapabilities)&&"styleeditor.parsingCapabilitiesError")||(null==t?void 0:t.global)&&"styleeditor.globalError"}),style:{display:"flex",width:"100%",height:"100%",overflow:"hidden"},mainViewStyle:{margin:"auto",width:300}}})),(0,E.Z)((e=>{let{loading:t}=e;return"global"===t}),{size:150,style:{margin:"auto"}},(e=>u().createElement("div",{style:{position:"relative",height:"100%",display:"flex"}},u().createElement(O.Z,e)))),(0,b.compose)((0,m.connect)((()=>({})),{toggleStyleEditor:v.Wv}),(0,b.lifecycle)({componentDidMount(){this.props.toggleStyleEditor(null,!0)}})))($),x={StyleEditorPlugin:o()(M,{TOC:{priority:1,container:"TOCItemSettings"},TOCItemsSettings:{name:"StyleEditor",target:"style",priority:1,ToolbarComponent:U.lC}}),reducers:{styleeditor:a(703137).Z},epics:a(902746).ZP}},703137:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var l=a(546243),s=a(747037),r=a.n(s);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.wL:return{...e,service:t.service,canEdit:t.canEdit};case l.Nm:return{...e,canEdit:t.canEdit};case l.gF:return{...e,temporaryId:t.temporaryId,templateId:t.templateId,code:t.code,format:t.format,error:null,languageVersion:t.languageVersion,initialCode:t.init?t.code:e.initialCode};case l.g$:return""===t.status?{...e,status:t.status,code:"",templateId:"",initialCode:"",addStyle:!1,error:{}}:{...e,status:t.status};case l.dJ:return{service:e.service&&{...e.service}||{},canEdit:e.canEdit,loading:e.loading};case l.uz:return{...e,addStyle:t.add};case l.lX:return{...e,loading:!t.status||t.status};case l.E2:return{...e,loading:!1,enabled:!0};case l.mF:{var a,s,i;const l=(null==t||null===(a=t.error)||void 0===a?void 0:a.statusText)||(null==t||null===(s=t.error)||void 0===s?void 0:s.message)||"",n=r()(null==t||null===(i=t.error)||void 0===i?void 0:i.messageId)&&{messageId:t.error.messageId},o=l.match(/line\s([\d]+)|column\s([\d]+)|lineNumber:\s([\d]+)|columnNumber:\s([\d]+)/g),c=o&&2===o.length&&o.reduce(((e,t)=>{const a=t.split(" "),l=a[0].replace(/Number:/g,""),s=parseFloat(a[1]);return l&&!isNaN(s)&&{...e,[l]:s}||{...e}}),{message:l,...n})||{message:l,...n};return{...e,loading:!1,canEdit:!(t.error&&(401===t.error.status||403===t.error.status||t.error.message&&-1!==t.error.message.indexOf("could not be unmarshalled"))),error:{...e.error,[t.status||"global"]:{status:t.error&&t.error.status||400,...c}}}}case l.dk:return{...e,metadata:{...e.metadata,...t.metadata}};default:return e}}},135393:(e,t,a)=>{var l=a(62663),s=a(244600),r=a(158748),i=RegExp("['’]","g");e.exports=function(e){return function(t){return l(r(s(t).replace(i,"")),e,"")}}},869389:(e,t,a)=>{var l=a(618674)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=l},968929:(e,t,a)=>{var l=a(548403),s=a(135393)((function(e,t,a){return t=t.toLowerCase(),e+(a?l(t):t)}));e.exports=s},244600:(e,t,a)=>{var l=a(869389),s=a(479833),r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=s(e))&&e.replace(r,l).replace(i,"")}}}]);